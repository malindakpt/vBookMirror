{"version":3,"sources":["components/presentational/ListItems/ListItems.module.scss","components/container/teacher/Teacher.module.scss","components/container/manageCourse/ManageCourse.module.scss","components/presentational/category/Category.tsx","hooks/useBreadcrumb.ts","data/Config.ts","data/Store.ts","data/StoreHelper.ts","helper/util.ts","components/container/course/Course.tsx","components/presentational/breadcrumbs/BreadcrumbBar.tsx","components/presentational/ListItems/ListItemsComponent.tsx","hooks/useForcedUpdate.ts","components/router/Router.tsx","components/container/teacher/Teacher.tsx","components/container/lesson/Lesson.tsx","components/container/courses/Courses.tsx","components/container/subjects/Subjects.tsx","components/container/years/Years.tsx","components/container/exams/Exams.tsx","components/container/manageCourse/addLesson/AddLesson.tsx","components/container/subscriptions/Subscriptions.tsx","components/container/manageCourse/upgradeCourse/UpgradeCourse.tsx","components/container/manageCourse/editExam/EditExam.tsx","components/container/manageCourse/addExam/AddExam.tsx","components/container/manageCourse/addTeacher/AddTeacher.tsx","components/container/manageCourse/addSubject/AddSubject.tsx","components/container/manageCourse/addCourse/AddCourse.tsx","components/container/payments/Payments.tsx","components/presentational/navPanel/NavPanel.tsx","components/container/header/Header.tsx","components/presentational/snackbar/Snack.tsx","App.tsx","serviceWorker.ts","index.tsx","components/container/manageCourse/addLesson/AddLesson.module.scss","components/presentational/category/Category.module.scss","components/container/manageCourse/addTeacher/AddTeacher.module.scss","components/container/lesson/Lesson.module.scss","components/container/header/Header.module.scss","components/container/subjects/Subjects.module.scss","components/router/Router.module.scss","components/container/course/Course.module.scss"],"names":["module","exports","Category","id","title1","title2","navURL","onSelect","status","CategoryImg","useState","selected","setSelected","className","classes","root","to","style","textDecoration","color","onClick","image","htmlColor","fontSize","content","iconTitle","actions","keyMap","updateKeyMap","objs","forEach","obj","useBreadcrumb","useParams","examId","year","subjectId","courseId","teacherId","updateBreadcrumbs","useContext","AppContext","breadcrumbs","setBreadcrumbs","sendBreadcrumbs","useCallback","bcs","length","useEffect","text","name","type","push","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","examYears","app","firebase","initializeApp","db","firestore","storage","store","console","log","clearStore","entityName","Object","keys","key","startsWith","addDoc","Promise","resolve","collection","add","then","docRef","catch","err","addDocWithId","doc","set","data","updateDoc","update","generateRequestKey","conditions","JSON","stringify","getDocsWithProps","resolves","cachedResponse","query","ref","includes","where","substring","charAt","limit","Array","isArray","results","get","querySnapshot","v","error","undefined","getDocWithId","exists","getObject","arr","filtered","filter","subject","Util","invokeLogin","Course","selectedLessons","setSelectedLessons","user","setUser","total","setTotal","email","showSnackbar","lessons","setLessons","all","result","users","course","lessons4Course","lesId","les","find","l","less","handleSelectLesson","next","price","pay","a","entries","newUser","ownerEmail","purchase","box","Button","variant","map","lesson","idx","OndemandVideoIcon","topic","description","BreadcrumbBar","Breadcrumbs","aria-label","margin","bc","ListItems","list","List","component","item","useForcedUpdate","onUpdate","setCount","prev","commonRoutes","courses","setCourses","subjects","setSubjects","exams","setExams","teacher","setTeacher","shortId","c","subj","examTime","examYear","exam","CategoryIcon","lessonId","setLesson","processVideo","videoURL","width","height","controls","controlsList","src","number","phoneChat","message","desc","attachments","atta","href","rel","target","teachers","setTeachers","ListAltIcon","fetchData","sub","subjectIds","Card","card","CardActionArea","CardContent","Typography","gutterBottom","yr","ScheduleIcon","idMap","ex","SchoolIcon","teacherRoutes","uploadTask","setUploadTask","uploadProgress","setUploadProgress","uploadFile","setUploadFile","searchText","setSearchText","editMode","setEditMode","courseOrderChanged","setCourseOrderChaged","allLessons","useRef","setCourseId","courseLessons","setCourseLessons","remainingLessons","setRemainingLessons","isAddNewVideo","setIsAddNewVideo","editingLesson","setEditingLesson","displayBacklog","setDisplayBacklog","setTopic","setAttachments","setDescription","keywords","setKeywords","setVideoURL","setPrice","addNew","onCourseChange","selectedCourse","lessons4CourseMap","current","orderedLessons","t","values","disabled","onSave","date","Date","getTime","copyLesson","changeOrder","index","isUp","clone","nextIdx","item1","item2","noValidate","autoComplete","FormControl","input","InputLabel","Select","labelId","value","onChange","e","MenuItem","RadioGroup","twoColumn","FormControlLabel","control","Radio","label","TextField","backlog","onFocus","search","toLocaleLowerCase","toLowerCase","cursor","toDateString","video","file","files","Math","round","size","cancel","inputMulti","multiline","rows","reduce","b","split","Number","vId","out","Subject","child","put","on","snapshot","progress","bytesTransferred","totalBytes","state","TaskState","PAUSED","RUNNING","getDownloadURL","downloadURL","uploadVideo","subscribe","unsubscribe","ListItem","button","courseLessonIds","findIndex","saveOrder","ListItemText","primary","stopPropagation","Divider","subCount","setSubCount","setSubs","totalSub","totalAmount","count","streams","setStreams","stream","crsForYr","courseString","newCourse","createCourse","adminRoutes","selectedExamIdx","setSelectedExamIdx","setSubjectIds","subjIds","onSubjectChange","checked","subjecList","splice","Checkbox","setExam","setExamProps","updateUI","setTeacherProps","phone","setSubject","setOwnerEmail","setSubjectId","setExamId","str","Router","isTeacher","isAdmin","container","r","exact","path","loading","commonLinks","url","teacherLinks","adminLinks","useStyles","makeStyles","fullList","NavPanel","React","show","setShow","toggleDrawer","open","event","linkSegment","links","ListItemIcon","Drawer","anchor","onClose","clsx","role","onKeyDown","Header","setEmail","setIsTeacher","setUserDetails","displayName","photo","photoURL","auth","onAuthStateChanged","u","handleLogin","provider","GoogleAuthProvider","signInWithPopup","AppBar","position","Toolbar","title","userName","alt","signOut","Snack","handleClose","vertical","horizontal","Snackbar","anchorOrigin","createContext","bcrumbs","App","snackText","setSnackText","setState","Provider","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.909f2283.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ListItems_root__10e2h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"Teacher_name__24GbP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ManageCourse_root__2YhC8\",\"input\":\"ManageCourse_input__2tVLu\",\"oneColumn\":\"ManageCourse_oneColumn__3XtOV\",\"twoColumn\":\"ManageCourse_twoColumn__1-Mr2\",\"center\":\"ManageCourse_center__AfQDZ\"};","import React, { useState } from 'react';\nimport InputIcon from '@material-ui/icons/Input';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Link } from 'react-router-dom';\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent';\nimport { SvgIconTypeMap } from '@material-ui/core';\nimport classes from './Category.module.scss';\n\ninterface Props {\n  id?: string;\n  title1?: string;\n  title2?: string;\n  navURL: string;\n  status?: 'yes' | 'no' | 'none'\n  CategoryImg: OverridableComponent<SvgIconTypeMap>;\n  onSelect?: (id: string, selected: boolean) => void;\n}\nexport const Category:React.FC<Props> = ({\n  id, title1 = '', title2 = '', navURL, onSelect, status, CategoryImg,\n}) => {\n  const [selected, setSelected] = useState(false);\n  const handleClick = () => {\n    if (id && onSelect) {\n      setSelected(!selected);\n      onSelect(id, !selected);\n    }\n  };\n  return (\n    <Link\n      className={`${classes.root} ${selected && classes.selected}`}\n      to={navURL}\n      style={{ textDecoration: 'none', color: '#5d5d5d' }}\n      onClick={handleClick}\n    >\n      <div className={classes.image}>\n        <CategoryImg\n          htmlColor=\"#3f51b5\"\n          style={{ fontSize: 40 }}\n        />\n      </div>\n      <div className={classes.content}>\n        <div className={classes.title1}>{title1}</div>\n        <div className={classes.iconTitle}>\n          {status === 'yes' && <CheckCircleOutlineIcon htmlColor=\"#0aa04d\" />}\n          {status === 'no' && <AddCircleOutlineIcon htmlColor=\"red\" />}\n          {status === 'none' && <CheckCircleOutlineIcon htmlColor=\"#ffa500\" />}\n          {title2}\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <InputIcon\n          htmlColor=\"#3f51b5\"\n          style={{ fontSize: 40 }}\n        />\n      </div>\n    </Link>\n  );\n};\n","import {\n  useEffect, useContext, useState, useCallback,\n} from 'react';\nimport { useParams } from 'react-router-dom';\nimport { AppContext } from '../App';\n\nconst keyMap: any = {};\n\nconst updateKeyMap = (objs?: any[]) => {\n  if (!objs) return;\n\n  objs.forEach((obj) => {\n    keyMap[obj.id] = obj;\n  });\n};\n\nexport const useBreadcrumb = () => {\n  const {\n    examId, year, subjectId, courseId, teacherId,\n  } = useParams<any>();\n  const { updateBreadcrumbs } = useContext(AppContext);\n\n  const [breadcrumbs, setBreadcrumbs] = useState<any>([]);\n\n  const sendBreadcrumbs = useCallback((bcs: any[]) => {\n    if (bcs.length === breadcrumbs.length) {\n      return;\n    }\n    updateBreadcrumbs(bcs);\n    setBreadcrumbs(bcs);\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    const bcs = [\n      ['Exams', '/'],\n    ];\n\n    if (!teacherId) {\n      if (examId) {\n        const text = keyMap[examId] ? `${keyMap[examId].name}-${keyMap[examId].type}` : 'Exam Year';\n        bcs.push([text, `/${examId}`]);\n      }\n      if (year) {\n        const text = keyMap[year] ? `${keyMap[year].name}` : 'Subjects';\n        bcs.push([text, `/${examId}/${year}`]);\n      }\n      if (subjectId) {\n        const text = keyMap[subjectId] ? `${keyMap[subjectId].name}` : 'Courses';\n        bcs.push([text, `/${examId}/${year}/${subjectId}`]);\n      }\n      if (courseId) {\n        const text = keyMap[courseId] && keyMap[keyMap[courseId].teacherId]\n          ? `${keyMap[keyMap[courseId].teacherId].name}` : 'Lessons';\n        bcs.push([text,\n          `/${examId}/${year}/${subjectId}/${courseId}`]);\n      }\n    }\n    sendBreadcrumbs(bcs);\n  },\n  [examId, subjectId, courseId, sendBreadcrumbs, year, teacherId]);\n\n  return updateKeyMap;\n};\n","// const firebaseConfig = {\n//   apiKey: 'AIzaSyC5pq-lAQWmVEVmrI0iwQ2bUJvSKp4tXaY',\n//   authDomain: 'smsm-54fa3.firebaseapp.com',\n//   databaseURL: 'https://smsm-54fa3.firebaseio.com',\n//   projectId: 'smsm-54fa3',\n//   storageBucket: 'smsm-54fa3.appspot.com',\n//   messagingSenderId: '794082939900',\n//   appId: '1:794082939900:web:9967e6ea91936c2016d879',\n//   measurementId: 'G-4SS7PQK8D5',\n// };\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBx8WR38L8eznu6HtwJghjptEN3Ah6HqzE',\n  authDomain: 'akshara-8630e.firebaseapp.com',\n  databaseURL: 'https://akshara-8630e.firebaseio.com',\n  projectId: 'akshara-8630e',\n  storageBucket: 'akshara-8630e.appspot.com',\n  messagingSenderId: '613661168552',\n  appId: '1:613661168552:web:46b655f214b7d0bc18c39d',\n  measurementId: 'G-23MFY9WDH7',\n};\n\nexport default firebaseConfig;\n\nexport const adminEmail = 'rasikadri@gmail.com';\n// export const adminEmail = 'malindakpt@gmail.com';\n\nexport const examYears = [\n  { id: '2020', name: '2020' },\n  { id: '2021', name: '2021' },\n  { id: '2022', name: '2022' }];\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport { Subject } from 'rxjs';\nimport firebaseConfig from './Config';\n\nexport interface UploadStatus {\n  progress: number;\n  uploadTask: firebase.storage.UploadTask;\n  downloadURL?: string;\n}\n\nconst app = firebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore(app);\nconst storage = firebase.storage(app);\nconst store: {[key: string]: any} = {};\nconsole.log('firebase initialized');\n\nconst clearStore = (entityName: string) => {\n  for (const key of Object.keys(store)) {\n    if (key.startsWith(entityName)) {\n      store[key] = null;\n    }\n  }\n};\n\n// TODO: clear data store for all edit data queries\n\n// export const getVideo = (ownerEmail: string, vId: string): Promise<string> => new Promise((resolve) => {\n//   storage.ref().child('video').child(ownerEmail).child(vId)\n//     .getDownloadURL()\n//     .then((data) => resolve(data));\n// });\n\nexport const uploadVideo = (file: any, email: string, vId: string): Subject<UploadStatus> => {\n  const subject = new Subject<UploadStatus>();\n  const storageRef = storage.ref();\n\n  // const blob = new Blob([file], { type: 'image/jpeg' });\n  const uploadTask = storageRef.child(`video/${email}/${vId}`).put(file);\n\n  // Register three observers:\n  // 1. 'state_changed' observer, called any time the state changes\n  // 2. Error observer, called on failure\n  // 3. Completion observer, called on successful completion\n  uploadTask.on('state_changed', (snapshot) => {\n  // Observe state change events such as progress, pause, and resume\n  // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n    const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n    // console.log(`Upload is ${progress}% done`);\n    subject.next({\n      uploadTask,\n      progress,\n    });\n    switch (snapshot.state) {\n      case firebase.storage.TaskState.PAUSED: // or 'paused'\n        console.log('Upload is paused');\n        break;\n      case firebase.storage.TaskState.RUNNING: // or 'running'\n        // console.log('Upload is running');\n        break;\n      default:\n        console.log('unhandled');\n    }\n  }, (error) => {\n  // Handle unsuccessful uploads\n  }, () => {\n  // Handle successful uploads on complete\n  // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n    uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n      console.log('File available at', downloadURL);\n      subject.next({\n        uploadTask,\n        progress: 100,\n        downloadURL,\n      });\n    });\n  });\n  // // Pause the upload\n  // uploadTask.pause();\n\n  // // Resume the upload\n  // uploadTask.resume();\n\n  // // Cancel the upload\n  // uploadTask.cancel();\n\n  // setTimeout(() => {\n  //   uploadTask.pause();\n  // }, 5000);\n\n  return subject;\n};\n\nexport const addDoc = <T>(entityName: string, obj: T) => new Promise<string>((resolve) => {\n  // @ts-ignore\n  delete obj.id; // Allow id auto generation\n\n  db.collection(entityName).add(obj).then((docRef: any) => {\n    console.log(docRef.id);\n    clearStore(entityName);\n    resolve(docRef.id);\n  }).catch((err) => {\n    console.log(err);\n    resolve(err);\n  });\n});\n\nexport const deleteDoc = (entityName: string, id: string) => new Promise<boolean>((resolve) => {\n  db.collection(entityName).doc(id).delete().then(() => {\n    clearStore(entityName);\n    resolve(true);\n  })\n    .catch((err) => {\n      console.log(err);\n      resolve(false);\n    });\n});\n\nexport const addDocWithId = <T>(entityName: string, id: string, obj: T) => new Promise((resolve) => {\n  db.collection(entityName).doc(id).set(obj).then((data: any) => {\n    clearStore(entityName);\n    resolve(true);\n  })\n    .catch((err) => {\n      console.log(err);\n      resolve(false);\n    });\n});\n\nexport const updateDoc = (entityName: string, id: string, obj: any) => new Promise((resolve) => {\n  db.collection(entityName).doc(id).update(obj).then((data: any) => {\n    clearStore(entityName);\n    resolve(true);\n  })\n    .catch((err) => {\n      console.log(err);\n      resolve(false);\n    });\n});\n\nconst generateRequestKey = (\n  entityName: string, conditions: any,\n) => `${entityName}-${JSON.stringify(conditions)}}`;\n\nexport const getDocsWithProps = <T>(\n  entityName: string,\n  conditions: any,\n): Promise<T> => new Promise((resolves) => {\n    const cachedResponse = store[generateRequestKey(entityName, conditions)];\n    if (cachedResponse) {\n      // Resolve result from cache and skip network\n      resolves(cachedResponse);\n      return;\n    }\n\n    const ref = db.collection(entityName);\n    let query: any;\n\n    Object.keys(conditions).forEach((key) => {\n      if ((key.includes('>') || key.includes('<'))\n      ) {\n        query = (query ?? ref).where(\n          key.substring(0, key.length - 1),\n          key.charAt(key.length - 1),\n          conditions[key],\n        );\n      } else if (key === 'limit') {\n        query = (query ?? ref).limit(conditions[key]);\n      } else if (Array.isArray(conditions[key])) {\n        query = (query ?? ref).where(key, 'array-contains', conditions[key][0]);\n      } else {\n        query = (query ?? ref).where(key, '==', conditions[key]);\n      }\n    });\n\n    const results: any = [];\n    (query ?? ref)\n      .get()\n      .then((querySnapshot: any) => {\n        querySnapshot.forEach((doc: any) => {\n          const v = doc.data();\n          v.id = doc.id;\n          results.push(v);\n        });\n        // Store result in cache and resolve\n        store[generateRequestKey(entityName, conditions)] = results;\n        resolves(results);\n      })\n      .catch((error: any) => {\n        console.error(error);\n        resolves(undefined);\n      });\n  });\n\nexport const getDocWithId = <T>(entityName: string, id: string): Promise<T | null> => new Promise(\n  (resolves) => {\n    db.collection(entityName).doc(id).get().then((doc: any) => {\n      if (doc.exists) {\n        resolves(doc.data());\n      } else {\n      // doc.data() will be undefined in this case\n        resolves(null);\n        console.log('getDocWithId: No such document!');\n      }\n    });\n  },\n);\n","export const getObject = <T>(arr: ({id: string} & T)[], id: string): T|null => {\n  const filtered = arr.filter((subject) => subject.id === id);\n  return filtered.length > 0 ? filtered[0] : null;\n};\n","export class Util {\n    public static invokeLogin: any = null;\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport OndemandVideoIcon from '@material-ui/icons/OndemandVideo';\nimport { Category } from '../../presentational/category/Category';\nimport { useBreadcrumb } from '../../../hooks/useBreadcrumb';\nimport {\n  getDocsWithProps, addDoc, updateDoc, getDocWithId,\n} from '../../../data/Store';\nimport { AppContext } from '../../../App';\nimport { ILesson } from '../../../interfaces/ILesson';\nimport { IUser } from '../../../interfaces/IUser';\nimport { ICourse } from '../../../interfaces/ICourse';\nimport { Util } from '../../../helper/util';\nimport classes from './Course.module.scss';\n\nexport const Course: React.FC = () => {\n  useBreadcrumb();\n\n  const [selectedLessons, setSelectedLessons] = useState<{[key: string]: boolean}>({});\n  const [user, setUser] = useState<IUser>();\n  const [total, setTotal] = useState(0);\n  const { email, showSnackbar } = useContext(AppContext);\n\n  const { courseId } = useParams<any>(); // Two routest for this page. Consider both when reading params\n  const [lessons, setLessons] = useState<ILesson[]>([]);\n\n  useEffect(() => {\n    Promise.all([\n      getDocsWithProps<IUser[]>('users', { email }),\n      getDocsWithProps<ILesson[]>('lessons', {}),\n      getDocWithId<ICourse>('courses', courseId),\n    ]).then((result) => {\n      const [users, lessons, course] = result;\n\n      if (users && lessons && course) {\n        let lessons4Course: ILesson[] = [];\n        course?.lessons.forEach((lesId) => {\n          const les = lessons.find((l) => l.id === lesId);\n          if (les) {\n            lessons4Course = [les, ...lessons4Course];\n          } else {\n            console.error('lesson not found', lesId);\n          }\n        });\n        lessons?.filter((less) => course?.lessons.includes(less.id));\n        setUser(users[0]);\n        setLessons(lessons4Course);\n      }\n    });\n    // eslint-disable-next-line\n  }, [email, selectedLessons]);\n\n  const handleSelectLesson = (id: string, selected: boolean) => {\n    if (!email) {\n      if (Util.invokeLogin) {\n        Util.invokeLogin();\n      }\n    } else {\n      let total = 0;\n      const next: any = { ...selectedLessons };\n      next[id] = selected;\n\n      for (const les of lessons) {\n        if (next[les.id] && les.price) {\n          total += les.price;\n        }\n      }\n\n      setSelectedLessons(next);\n      setTotal(total);\n    }\n  };\n\n  const pay = async () => {\n    if (!email) return;\n\n    // const usersWithEmail: IUser[] = await getDocsWithProps('users', { email }, {});\n    if (user) {\n      for (const [les, subscribed] of Object.entries(selectedLessons)) {\n        if (subscribed) {\n          user.lessons.push(les);\n        }\n      }\n      updateDoc('users', user.id, user).then(() => {\n        showSnackbar('Subscribed to lessons');\n        setSelectedLessons({});\n        setTotal(0);\n      });\n    } else {\n      const newUser: IUser = {\n        id: '',\n        ownerEmail: email,\n        lessons: [],\n      };\n      for (const [les, subscribed] of Object.entries(selectedLessons)) {\n        if (subscribed) {\n          newUser.lessons.push(les);\n        }\n      }\n      addDoc('users', newUser).then(() => {\n        showSnackbar('Subscribed to lessons');\n        setSelectedLessons({});\n        setTotal(0);\n      });\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      {total > 0 && (\n      <div className={classes.purchase}>\n        <div className={classes.box}>\n          <span>\n            { `Rs. ${total}.00`}\n          </span>\n          <Button\n            variant=\"contained\"\n            onClick={pay}\n            color=\"secondary\"\n          >\n            Purchase\n          </Button>\n        </div>\n      </div>\n      )}\n      {\n        lessons?.map((lesson, idx) => {\n          let status: 'yes'|'no'| 'none' | undefined;\n          if (lesson.price) {\n            if (user?.lessons.includes(lesson.id)) {\n              status = 'yes';\n            } else {\n              status = 'no';\n            }\n          } else {\n            status = 'none';\n          }\n\n          return (\n            <Category\n              id={lesson.id}\n              key={idx}\n              CategoryImg={OndemandVideoIcon}\n              title1={`${lesson.topic}`}\n              title2={`${lesson.description}`}\n              navURL={!lesson.price\n                || user?.lessons.includes(lesson.id) ? `${courseId}/${lesson.id}` : `${courseId}`}\n              onSelect={handleSelectLesson}\n              status={status}\n            />\n          );\n        })\n      }\n    </div>\n  );\n};\n","import React, { useContext } from 'react';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from '../../../App';\n\nexport const BreadcrumbBar = () => {\n  const { breadcrumbs } = useContext(AppContext);\n\n  return (\n    <Breadcrumbs\n      aria-label=\"breadcrumb\"\n      style={{ margin: '10px 20px' }}\n    >\n      {breadcrumbs?.map((bc) => (\n        <Link\n          style={{ textDecoration: 'none', color: 'grey' }}\n          key={bc[0]}\n          color=\"inherit\"\n          to={bc[1]}\n        >\n          {bc[0]}\n        </Link>\n      ))}\n    </Breadcrumbs>\n  );\n};\n","import React from 'react';\nimport {\n  ListItem, List, Divider,\n} from '@material-ui/core';\nimport classes from './ListItems.module.scss';\n\ninterface Props{\n  list: any[];\n}\nexport const ListItems:React.FC<Props> = ({ list }) => (\n  <div className={classes.root}>\n    <List\n      component=\"nav\"\n      aria-label=\"mailbox folders\"\n    >\n      {list.map((item, idx) => (\n        // eslint-disable-next-line react/no-array-index-key\n        <div key={idx}>\n          <ListItem\n            button\n          >\n\n            {Object.values(item).map((val: any, index:number) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <span key={index}>{`${val}`}</span>))}\n          </ListItem>\n          <Divider />\n        </div>\n      ))}\n\n    </List>\n  </div>\n);\n","import { useState } from 'react';\n\nexport const useForcedUpdate = () => {\n  const [onUpdate, setCount] = useState(0);\n\n  const updateUI = () => {\n    setCount((prev) => prev + 1);\n  };\n\n  const state: [number, () => void] = [onUpdate, updateUI];\n  return state;\n};\n","import React, { useContext } from 'react';\nimport {\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport classes from './Router.module.scss';\nimport { Exams } from '../container/exams/Exams';\nimport { Subjects } from '../container/subjects/Subjects';\nimport { Courses } from '../container/courses/Courses';\nimport { Course } from '../container/course/Course';\nimport { BreadcrumbBar } from '../presentational/breadcrumbs/BreadcrumbBar';\nimport { AddLesson } from '../container/manageCourse/addLesson/AddLesson';\nimport { AddSubject } from '../container/manageCourse/addSubject/AddSubject';\nimport { EditExam } from '../container/manageCourse/editExam/EditExam';\nimport { AddExam } from '../container/manageCourse/addExam/AddExam';\nimport { AddTeacher } from '../container/manageCourse/addTeacher/AddTeacher';\nimport { AddCourse } from '../container/manageCourse/addCourse/AddCourse';\nimport { Lesson } from '../container/lesson/Lesson';\nimport { AppContext } from '../../App';\nimport { UpgradeCourse } from '../container/manageCourse/upgradeCourse/UpgradeCourse';\nimport { Years } from '../container/years/Years';\nimport { Subscriptions } from '../container/subscriptions/Subscriptions';\nimport { Payments } from '../container/payments/Payments';\nimport { Teacher } from '../container/teacher/Teacher';\n\ntype routeConfig = [string, any, string, boolean][];\n\nexport const commonRoutes: routeConfig = [\n  ['/teacher/:teacherId', Teacher, 'Teacher', false],\n  ['/teacher/:teacherId/:courseId', Course, 'Teacher', false],\n  ['/:examId/:year/:subjectId/:courseId/:lessonId', Lesson, 'Lesson', false],\n  ['/:examId/:year/:subjectId/:courseId', Course, 'Course', false],\n  ['/:examId/:year/:subjectId', Courses, 'Courses', false],\n  ['/:examId/:year', Subjects, 'Subjects', false],\n  ['/:examId', Years, 'Years', false],\n  ['/', Exams, 'Exams', true],\n];\n\nexport const teacherRoutes: routeConfig = [\n  ['/addLesson', AddLesson, 'Add Lessons', true],\n  ['/subscriptions', Subscriptions, 'Subscriptions', true],\n  ['/upgradeCourses', UpgradeCourse, 'Create Courses', true],\n];\n\nexport const adminRoutes: routeConfig = [\n  ['/editExam', EditExam, 'Edit Exam', true],\n  ['/addExam', AddExam, 'Add Exam', true],\n  ['/addTeacher', AddTeacher, 'Add Teacher', true],\n  ['/addSubject', AddSubject, 'Add Subject', true],\n  ['/addCourse', AddCourse, 'Subject Streams', true],\n  ['/payments', Payments, 'Payments', true],\n];\n\nconst Router: React.FC = () => {\n  const { isTeacher, isAdmin } = useContext(AppContext);\n  return (\n    <>\n      <BreadcrumbBar />\n      <div className={classes.container}>\n        <div>\n          {/* A <Switch> looks through its children <Route>s and\n      renders the first one that matches the current URL. */}\n          <Switch>\n            {(isTeacher) && teacherRoutes.map((r: any) => (\n              <Route\n                exact\n                key={r[0]}\n                path={r[0]}\n                component={r[1]}\n              />\n            ))}\n            {isAdmin() && adminRoutes.map((r: any) => (\n              <Route\n                exact\n                key={r[0]}\n                path={r[0]}\n                component={r[1]}\n              />\n            ))}\n            {isTeacher !== undefined && commonRoutes.map((r: any) => (\n              <Route\n                exact\n                key={r[0]}\n                path={r[0]}\n                component={r[1]}\n              />\n            ))}\n            <Route path=\"\">\n              <div className={classes.loading}>\n                <p>අක්ෂර.lk</p>\n              </div>\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Router;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport CategoryIcon from '@material-ui/icons/Category';\nimport { examYears } from '../../../data/Config';\nimport { getDocsWithProps } from '../../../data/Store';\nimport { getObject } from '../../../data/StoreHelper';\nimport { ICourse } from '../../../interfaces/ICourse';\nimport { IExam } from '../../../interfaces/IExam';\nimport { ISubject } from '../../../interfaces/ISubject';\nimport { Category } from '../../presentational/category/Category';\nimport { useBreadcrumb } from '../../../hooks/useBreadcrumb';\nimport { ITeacher } from '../../../interfaces/ITeacher';\nimport classes from './Teacher.module.scss';\n\nexport const Teacher = () => {\n  useBreadcrumb();\n  const { teacherId } = useParams<any>();\n  const [courses, setCourses] = useState<ICourse[]>([]);\n  const [subjects, setSubjects] = useState<ISubject[]>([]);\n  const [exams, setExams] = useState<IExam[]>([]);\n  const [teacher, setTeacher] = useState<ITeacher| undefined>(undefined);\n\n  useEffect(() => {\n    getDocsWithProps<ISubject[]>('subjects', {}).then((data) => setSubjects(data));\n    getDocsWithProps<IExam[]>('exams', {}).then((data) => setExams(data));\n    getDocsWithProps<ITeacher[]>('teachers', { shortId: teacherId }).then((data) => {\n      if (data.length > 0) {\n        const teacher = data[0];\n        setTeacher(teacher);\n        getDocsWithProps<ICourse[]>('courses', { ownerEmail: teacher.ownerEmail })\n          .then((data) => setCourses(data));\n      }\n    });\n  }, [teacherId]);\n\n  return (\n    <div className=\"container\">\n      {teacher && (\n      <div className={classes.name}>\n        Courses from\n        {` ${teacher?.name}`}\n      </div>\n      )}\n      {\n                courses.map((c) => {\n                  const subj = getObject(subjects, c.subjectId);\n                  const examTime = getObject(examYears, c.examYear);\n                  const exam = getObject(exams, c.examId);\n                  return (\n                    <Category\n                      key={c.id}\n                      title1={`${subj?.name} [${exam?.type}]`}\n                      title2={`${exam?.name}-${examTime?.name}`}\n                      navURL={`${teacherId}/${c.id}`}\n                      CategoryImg={CategoryIcon}\n                    />\n                  );\n                })\n            }\n    </div>\n  );\n};\n","/* eslint-disable jsx-a11y/media-has-caption */\nimport { useParams } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport ReactWhatsapp from 'react-whatsapp';\nimport classes from './Lesson.module.scss';\nimport { useBreadcrumb } from '../../../hooks/useBreadcrumb';\nimport { getDocsWithProps, getDocWithId } from '../../../data/Store';\nimport { ILesson } from '../../../interfaces/ILesson';\nimport { ITeacher } from '../../../interfaces/ITeacher';\n\nexport const Lesson: React.FC = () => {\n  useBreadcrumb();\n  const { lessonId } = useParams<any>();\n  const [teacher, setTeacher] = useState<ITeacher | null>(null);\n  const [lesson, setLesson] = useState<ILesson>();\n  // const [vidSrc, setVidSrc] = useState<string | null>(null);\n\n  const processVideo = async () => {\n    const lesson = await getDocWithId<ILesson>('lessons', lessonId);\n\n    if (lesson) {\n      getDocsWithProps<ITeacher[]>('teachers', { ownerEmail: lesson.ownerEmail })\n        .then((data) => data && setTeacher(data[0]));\n      // const url = await getVideo(lesson.ownerEmail, lesson.videoURL);\n      setLesson(lesson);\n      // setVidSrc(url);\n    }\n  };\n\n  useEffect(() => {\n    processVideo();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.topic}>\n        {lesson?.topic}\n      </div>\n\n      {lesson?.videoURL && (\n      <video\n        width=\"100%\"\n        height=\"100%\"\n        controls\n        controlsList=\"nodownload\"\n      >\n        <source\n          src={lesson?.videoURL}\n          type=\"video/mp4\"\n        />\n      </video>\n      )}\n      {teacher && (\n      <div>\n        <ReactWhatsapp\n          number={teacher.phoneChat}\n          message={`[${lesson?.topic}]:`}\n        >\n          <div>Ask Questions</div>\n\n        </ReactWhatsapp>\n      </div>\n      )}\n      <div className={classes.desc}>\n        {lesson?.description}\n      </div>\n      <div className={classes.attachments}>\n        {lesson?.attachments?.map((atta) => (\n          <li>\n            <a\n              href={atta}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              {atta}\n            </a>\n          </li>\n        ))}\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ListAltIcon from '@material-ui/icons/ListAlt';\nimport { Category } from '../../presentational/category/Category';\nimport { getObject } from '../../../data/StoreHelper';\nimport { useBreadcrumb } from '../../../hooks/useBreadcrumb';\nimport { getDocsWithProps } from '../../../data/Store';\nimport { ICourse } from '../../../interfaces/ICourse';\nimport { ITeacher } from '../../../interfaces/ITeacher';\nimport { IExam } from '../../../interfaces/IExam';\n\nexport const Courses: React.FC = () => {\n  const keyMap = useBreadcrumb();\n\n  const { subjectId, examId, year } = useParams<any>();\n\n  const [courses, setCourses] = useState<ICourse[]>([]);\n  const [teachers, setTeachers] = useState<ITeacher[]>([]);\n  const [exams, setExams] = useState<IExam[]>([]);\n\n  useEffect(() => {\n    getDocsWithProps<ICourse[]>('courses', { subjectId, examId, examYear: year })\n      .then((data) => {\n        setCourses(data);\n        keyMap(data);\n      });\n    getDocsWithProps<ITeacher[]>('teachers', {}).then((data) => {\n      setTeachers(data);\n      keyMap(data);\n    });\n    getDocsWithProps<IExam[]>('exams', {}).then((data) => setExams(data));\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h3>Courses</h3>\n      {courses.map((course) => {\n        const teacher = getObject(teachers, course.ownerEmail);\n        const exam = getObject(exams, course.examId);\n\n        return (\n          <Category\n            key={course.id}\n            CategoryImg={ListAltIcon}\n            title1={teacher?.name}\n            title2={` ${exam?.type} [${exam?.name}]`}\n            navURL={`${subjectId}/${course.id}`}\n          />\n        );\n      })}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport {\n  Card, CardActionArea, CardContent, Typography,\n} from '@material-ui/core';\nimport CategoryIcon from '@material-ui/icons/Category';\nimport classes from './Subjects.module.scss';\nimport { useBreadcrumb } from '../../../hooks/useBreadcrumb';\nimport { getDocsWithProps, getDocWithId } from '../../../data/Store';\nimport { ISubject } from '../../../interfaces/ISubject';\nimport { IExam } from '../../../interfaces/IExam';\n\nexport const Subjects = () => {\n  const { year, examId } = useParams<any>();\n  const [subjects, setSubjects] = useState<ISubject[]>([]);\n  const keyMap = useBreadcrumb();\n\n  const fetchData = async () => {\n    const exam = await getDocWithId<IExam>('exams', examId);\n    const subjects = await getDocsWithProps<ISubject[]>('subjects', {});\n    const filtered = subjects.filter((sub) => exam?.subjectIds?.includes(sub.id));\n\n    setSubjects(filtered);\n    keyMap(subjects);\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <div className={classes.root}>\n        {\n      subjects.map((subject) => (\n        <Link\n          key={subject.id}\n          to={`${year}/${subject.id}`}\n          style={{ textDecoration: 'none', color: '#5d5d5d' }}\n        >\n          <Card className={classes.card}>\n            <CardActionArea>\n              <CardContent>\n                <Typography\n                  gutterBottom\n                  variant=\"h5\"\n                  component=\"h2\"\n                >\n                  <CategoryIcon />\n                  <span className={classes.sub}>{subject.name}</span>\n                </Typography>\n              </CardContent>\n            </CardActionArea>\n          </Card>\n        </Link>\n      ))\n}\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport { Category } from '../../presentational/category/Category';\nimport { useBreadcrumb } from '../../../hooks/useBreadcrumb';\nimport { examYears } from '../../../data/Config';\n\nexport const Years = () => {\n  const { examId } = useParams<any>();\n  const keyMap = useBreadcrumb();\n  keyMap(examYears);\n\n  return (\n    <div className=\"container\">\n      {examYears?.map((yr) => (\n        <Category\n          key={yr.id}\n          title1={yr.name}\n          CategoryImg={ScheduleIcon}\n          navURL={`${examId}/${yr.id}`}\n        />\n      )\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport SchoolIcon from '@material-ui/icons/School';\nimport { Category } from '../../presentational/category/Category';\nimport { useBreadcrumb } from '../../../hooks/useBreadcrumb';\nimport { getDocsWithProps } from '../../../data/Store';\nimport { IExam } from '../../../interfaces/IExam';\n\nexport const Exams = () => {\n  const [exams, setExams] = useState<IExam[]>([]);\n  const idMap = useBreadcrumb();\n  useEffect(() => {\n    getDocsWithProps<IExam[]>('exams', {}).then((data) => {\n      setExams(data);\n      idMap(data);\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"container\">\n      {exams?.map((ex) => (\n        <Category\n          key={ex.id}\n          title1={`${ex.name}-${ex.type}`}\n          CategoryImg={SchoolIcon}\n          navURL={`${ex.id}`}\n        />\n      )\n      )}\n    </div>\n  );\n};\n","import React, {\n  useState, useEffect, useContext, useRef,\n} from 'react';\nimport {\n  TextField, Button, Select, MenuItem, InputLabel, FormControl,\n  RadioGroup, FormControlLabel, Radio, List, ListItem, ListItemText, Divider,\n} from '@material-ui/core';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport SaveIcon from '@material-ui/icons/Save';\nimport classes from './AddLesson.module.scss';\nimport {\n  addDoc, getDocsWithProps, updateDoc, uploadVideo,\n} from '../../../../data/Store';\nimport { getObject } from '../../../../data/StoreHelper';\nimport { AppContext } from '../../../../App';\nimport { ILesson } from '../../../../interfaces/ILesson';\nimport { ICourse } from '../../../../interfaces/ICourse';\nimport { IExam } from '../../../../interfaces/IExam';\nimport { ISubject } from '../../../../interfaces/ISubject';\nimport { useBreadcrumb } from '../../../../hooks/useBreadcrumb';\n\nexport const AddLesson = () => {\n  useBreadcrumb();\n  const { showSnackbar, email } = useContext(AppContext);\n\n  const [uploadTask, setUploadTask] = useState<any>();\n  const [uploadProgress, setUploadProgress] = useState<number>(0);\n\n  const [uploadFile, setUploadFile] = useState<any>(undefined);\n  const [searchText, setSearchText] = useState<string>('');\n  const [editMode, setEditMode] = useState<boolean>(false);\n  const [courseOrderChanged, setCourseOrderChaged] = useState<boolean>(false);\n\n  const [courses, setCourses] = useState<ICourse[]>([]);\n  const [exams, setExams] = useState<IExam[]>([]);\n  const [subjects, setSubjects] = useState<ISubject[]>([]);\n  const allLessons = useRef<ILesson[]>([]);\n  const [courseId, setCourseId] = useState<string>('');\n\n  const [courseLessons, setCourseLessons] = useState<ILesson[]>([]);\n  const [remainingLessons, setRemainingLessons] = useState<ILesson[]>([]);\n\n  // Component state\n  const [isAddNewVideo, setIsAddNewVideo] = useState<boolean>(false);\n  const [editingLesson, setEditingLesson] = useState<ILesson>();\n  const [displayBacklog, setDisplayBacklog] = useState<boolean>(false);\n\n  const [topic, setTopic] = useState<string>('');\n  const [attachments, setAttachments] = useState<string[]>([]);\n  const [description, setDescription] = useState<string>('');\n  const [keywords, setKeywords] = useState<string>('');\n  const [videoURL, setVideoURL] = useState<string>('');\n  const [price, setPrice] = useState<number>(0);\n\n  const addNew = () => {\n    setCourseOrderChaged(false);\n    setIsAddNewVideo(false);\n    setEditMode(false);\n    setUploadProgress(0);\n    setTopic('');\n    setKeywords('');\n    setDescription('');\n    setAttachments([]);\n    setVideoURL('');\n    setPrice(0);\n    setUploadFile(null);\n  };\n\n  const onCourseChange = (courses: ICourse[], courseId: string) => {\n    if (!courseId || courseId === '') { return; }\n\n    setCourseId(courseId);\n\n    const selectedCourse = courses.filter((c) => c.id === courseId)[0];\n    const lessons4CourseMap: any = {};\n    const remainingLessons = [];\n    for (const les of allLessons.current) {\n      if (selectedCourse.lessons?.includes(les.id)) {\n        lessons4CourseMap[les.id] = les;\n      } else {\n        remainingLessons.push(les);\n      }\n    }\n\n    let orderedLessons: ILesson[] = [];\n    for (const less of selectedCourse.lessons) {\n      const t = (lessons4CourseMap[less]);\n      if (t) {\n        orderedLessons = [...orderedLessons, t];\n      }\n    }\n    setCourseLessons(orderedLessons);\n    setRemainingLessons(remainingLessons);\n\n    addNew();\n  };\n\n  useEffect(() => {\n    Promise.all([\n      getDocsWithProps<ICourse[]>('courses', {}),\n      getDocsWithProps<ILesson[]>('lessons', {}),\n    ]).then((values) => {\n      const [courses, lessons] = values;\n\n      setCourses(courses);\n      onCourseChange(courses, courseId);\n\n      allLessons.current = lessons;\n    });\n    getDocsWithProps<ISubject[]>('subjects', {}).then((data) => setSubjects(data));\n    getDocsWithProps<IExam[]>('exams', {}).then((data) => setExams(data));\n    // eslint-disable-next-line\n  }, [courses]);\n\n  const onFileSelect = (e: any) => {\n    // TODO: Handle if file is not selected from file explorer\n    const file = e.target.files[0];\n    if (file) { setUploadFile(file); }\n  };\n\n  const onCancelUpload = () => {\n    uploadTask?.cancel();\n    addNew();\n  };\n\n  const disabled = uploadProgress > 0 && uploadProgress < 100;\n\n  const onSave = async (videoURL: string) => {\n    if (!email) {\n      showSnackbar('Issue with email');\n      return;\n    }\n    if (editMode) {\n      if (!editingLesson) return;\n      const less = {\n        ...editingLesson,\n        ...{\n          topic, description, attachments, keywords, videoURL, price,\n        },\n      };\n      updateDoc('lessons', editingLesson.id, less).then(() => {\n        showSnackbar('Lesson Modified');\n        addNew();\n        setCourses([]); // force update\n      });\n    } else {\n      const selectedCourse = courses.filter((c) => c.id === courseId)[0];\n      // When you make a change here, replicate that on edit mode also\n      const lesson: ILesson = {\n        id: '',\n        date: new Date().getTime(),\n        topic,\n        description,\n        attachments,\n        keywords: `${selectedCourse.examYear}`,\n        videoURL,\n        price,\n        ownerEmail: email,\n      };\n      lesson.id = await addDoc('lessons', lesson);\n      const { lessons } = courses.filter((c) => c.id === courseId)[0];\n\n      await updateDoc('courses', courseId, { lessons: [lesson.id, ...lessons ?? []] });\n      showSnackbar('Lesson Added');\n      addNew();\n      setCourses([]); // force update\n      // setCourseLessons((prev) => {\n      //   const clone = [lesson, ...prev];\n      //   return clone;\n      // });\n    }\n  };\n\n  const validateLesson = (): boolean => {\n    if (!topic || topic.length < 5) {\n      showSnackbar('Topic should have minimum length of 5');\n      return false;\n    }\n    if (!description || description.length < 5) {\n      showSnackbar('Description should have minimum length of 5');\n      return false;\n    }\n    return true;\n  };\n\n  const sendVideo = (e: any) => {\n    if (!email) {\n      showSnackbar('Error with the logged in teacher');\n      return;\n    }\n    if (!validateLesson()) {\n      return;\n    }\n\n    if (isAddNewVideo) {\n      if (uploadFile) {\n        const vId = `${new Date().getTime()}`;\n        setUploadProgress(0);\n        const out = uploadVideo(uploadFile, email, vId).subscribe((next) => {\n          setUploadTask(next.uploadTask);\n          if (next.downloadURL) {\n            setVideoURL(next.downloadURL);\n            onSave(next.downloadURL);\n            out.unsubscribe();\n          }\n          if (next.progress < 100) {\n            setUploadProgress(next.progress);\n          }\n        });\n      } else {\n        showSnackbar('Upload video not found');\n      }\n    } else {\n      if (videoURL) {\n        onSave(videoURL);\n      } else {\n        showSnackbar('Upload video not found');\n      }\n    }\n  };\n\n  const copyLesson = (les: ILesson) => {\n    setIsAddNewVideo(false);\n    setEditingLesson(les);\n    setTopic(les.topic ?? '');\n    setKeywords(les.keywords ?? '');\n    setDescription(les.description ?? '');\n    setAttachments(les.attachments ?? []);\n    setVideoURL(les.videoURL ?? '');\n  };\n\n  const changeOrder = (index: number, isUp: boolean) => {\n    const clone = [...courseLessons];\n    const nextIdx = isUp ? index - 1 : index + 1;\n    if (nextIdx < 0 || nextIdx >= courseLessons.length) {\n      return;\n    }\n    const item1 = { ...clone[index] };\n    const item2 = { ...clone[nextIdx] };\n\n    clone[index] = item2;\n    clone[nextIdx] = item1;\n\n    setCourseOrderChaged(true);\n    setCourseLessons(clone);\n  };\n\n  const saveLessonsOrder = () => {\n    const courseLessonIds = courseLessons.map((less) => less.id);\n    updateDoc('courses', courseId, { lessons: courseLessonIds })\n      .then(() => {\n        showSnackbar('Lessons order updated');\n        setCourses((prev) => {\n          const clone = [...prev];\n          const idx = clone.findIndex((c) => c.id === courseId);\n          clone[idx].lessons = courseLessonIds;\n          return clone;\n        });\n        setCourseOrderChaged(false);\n      });\n  };\n\n  if (!email) return <></>;\n\n  return (\n    <>\n      <h3>Manage Lessons</h3>\n      <form\n        className={classes.root}\n        noValidate\n        autoComplete=\"off\"\n      >\n        <div>\n          <FormControl className={classes.input}>\n            <InputLabel id=\"demo-simple-select-label\">Select Course</InputLabel>\n            <Select\n              className={classes.input}\n              labelId=\"label1\"\n              id=\"id1\"\n              value={courseId}\n              disabled={disabled}\n              onChange={(e) => onCourseChange(courses, e.target.value as string)}\n            >\n              {courses.map((course) => {\n                const subject = getObject(subjects, course.subjectId);\n                const exam = getObject(exams, course.examId);\n\n                return (\n                  <MenuItem\n                    value={course.id}\n                    key={course.id}\n                  >\n                    {`${course.examYear}-${exam?.name}-${exam?.type}-${subject?.name}`}\n                  </MenuItem>\n                );\n              })}\n            </Select>\n          </FormControl>\n\n          {courseId && (\n          <div>\n            <RadioGroup\n              className={classes.twoColumn}\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={editMode}\n              onChange={(e: any) => { e.target.value === 'false' && addNew(); }}\n            >\n              <FormControlLabel\n                value={false}\n                control={<Radio />}\n                label=\"Add New Lesson\"\n                disabled={disabled}\n              />\n              <FormControlLabel\n                value\n                control={<Radio />}\n                label=\"Edit lesson\"\n                disabled={disabled}\n              />\n            </RadioGroup>\n\n            <TextField\n              className={classes.input}\n              id=\"standard-basic1\"\n              label=\"Topic\"\n              value={topic}\n              disabled={disabled}\n              onChange={(e) => setTopic(e.target.value)}\n            />\n            <RadioGroup\n              className={classes.twoColumn}\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={isAddNewVideo}\n              onChange={(e: any) => { setIsAddNewVideo(e.target.value === 'true'); }}\n            >\n              <FormControlLabel\n                value={false}\n                control={<Radio />}\n                label=\"Copy Previous Video\"\n                disabled={disabled}\n              />\n              <FormControlLabel\n                value\n                control={<Radio />}\n                label=\"Upload New Video\"\n                disabled={disabled}\n              />\n            </RadioGroup>\n\n            { !isAddNewVideo && (\n            <div className={classes.backlog}>\n              {allLessons.current?.length > 0 && (\n              <TextField\n                className={classes.input}\n                id=\"filled-basic\"\n                label=\"Search Previous Lessons...\"\n                value={searchText}\n                onChange={(e) => setSearchText(e.target.value)}\n                onFocus={() => setDisplayBacklog(true)}\n                disabled={disabled}\n              />\n              )}\n              { displayBacklog && (\n              <table className=\"center w100\">\n                <tbody>\n                  {remainingLessons.map((les) => {\n                    const search = searchText.toLocaleLowerCase();\n                    if (searchText === ''\n                  || les.topic?.toLowerCase()?.includes(search)\n                   || les.description?.toLowerCase()?.includes(search)) {\n                      return (\n                        <tr\n                          key={les.id}\n                          style={{ cursor: 'pointer' }}\n                          onClick={() => {\n                            setEditMode(false);\n                            copyLesson(les);\n                            setDisplayBacklog(false);\n                          }}\n                        >\n                          <td>{les.date ? new Date(les.date).toDateString() : 'N/A'}</td>\n                          <td>{les.topic}</td>\n                          <td>{les.description}</td>\n                        </tr>\n                      );\n                    }\n                    return null;\n                  })}\n                </tbody>\n              </table>\n              )}\n            </div>\n            )}\n\n            <div className={classes.video}>\n              {isAddNewVideo && (\n              <>\n                {!disabled && (\n                <input\n                  type=\"file\"\n                  id=\"uploader\"\n                  name=\"uploader\"\n                  onChange={onFileSelect}\n                  disabled={disabled}\n                />\n                )}\n                <span>{uploadProgress > 0 && uploadProgress < 100 && `${Math.round(uploadProgress)}%`}</span>\n                {uploadProgress > 0 && uploadProgress < 100 && (\n                <Button\n                  size=\"small\"\n                  color=\"secondary\"\n                  variant=\"contained\"\n                  onClick={onCancelUpload}\n                >\n                  Cancel Upload\n                </Button>\n                )}\n              </>\n              )}\n            </div>\n\n            <TextField\n              className={classes.input}\n              id=\"standard-basic4\"\n              label=\"Video Id\"\n              disabled\n              value={videoURL}\n              onChange={(e) => setVideoURL(e.target.value)}\n            />\n\n            <TextField\n              className={classes.input}\n              id=\"filled-basic5\"\n              label=\"Description\"\n              value={description}\n              disabled={disabled}\n              onChange={(e) => setDescription(e.target.value)}\n            />\n\n            <TextField\n              className={classes.inputMulti}\n              id=\"standard-multiline-static\"\n              label=\"Attachment links(Use new line to add)\"\n              multiline\n              rows={3}\n              variant=\"outlined\"\n              value={attachments.reduce((a, b) => (a !== '' ? `${a}\\n${b}` : `${b}`), '')}\n              onChange={(e) => {\n                console.log(e.target.value);\n                setAttachments(e.target.value.split('\\n'));\n              }}\n            />\n\n            <TextField\n              className={classes.input}\n              id=\"filled-basic6\"\n              type=\"number\"\n              label=\"Price\"\n              value={price}\n              disabled={disabled}\n              onChange={(e) => setPrice(Number(e.target.value))}\n            />\n\n            {uploadProgress === 0 && (\n            <Button\n              size=\"small\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={disabled}\n              onClick={sendVideo}\n            >\n              {editMode ? 'Save Changes' : 'Add New Lesson'}\n            </Button>\n            )}\n          </div>\n          )}\n        </div>\n\n        <div>\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n          >\n            {courseOrderChanged && (\n            <ListItem\n              button\n              onClick={saveLessonsOrder}\n              className={classes.saveOrder}\n            >\n              <ListItemText\n                primary=\"Save order\"\n              />\n              <SaveIcon />\n            </ListItem>\n            )}\n            {\n              !disabled && courseLessons.map((lesson, index) => (\n                <div\n                // c.id becomes undefined for newly added lesson since we refer that from local\n                  key={lesson.date}\n                >\n                  <ListItem\n                    button\n                    onClick={() => { setEditMode(true); copyLesson(lesson); }}\n                  >\n                    <div style={{ fontSize: '11px', width: '150px' }}>\n                      {lesson.topic}\n                    </div>\n                    {/* primary={`${lesson.topic}`}\n                      style={{ fontSize: '11px' }}\n                    /> */}\n                    {index > 0 && (\n                    <ArrowUpwardIcon onClick={(e) => {\n                      changeOrder(index, true); e.stopPropagation();\n                    }}\n                    />\n                    )}\n                    {index < courseLessons.length - 1 && (\n                    <ArrowDownwardIcon\n                      onClick={(e) => { changeOrder(index, false); e.stopPropagation(); }}\n                    />\n                    )}\n                  </ListItem>\n                  <Divider />\n                </div>\n              ))\n            }\n\n          </List>\n        </div>\n      </form>\n\n    </>\n  );\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport { AppContext } from '../../../App';\nimport { getDocsWithProps } from '../../../data/Store';\nimport { useBreadcrumb } from '../../../hooks/useBreadcrumb';\nimport { ILesson } from '../../../interfaces/ILesson';\nimport { IUser } from '../../../interfaces/IUser';\n\nexport const Subscriptions = () => {\n  useBreadcrumb();\n  const { email } = useContext(AppContext);\n  const [lessons, setLessons] = useState<ILesson[]>([]);\n  const [subCount, setSubCount] = useState<number[]>([]);\n\n  const setSubs = (idx:number, lessonId: string) => {\n    getDocsWithProps<IUser[]>('users', { lessons: [lessonId] }).then((data) => {\n      setSubCount((prev) => {\n        const clone = [...prev];\n        clone[idx] = data.length;\n        return clone;\n      });\n    });\n  };\n\n  useEffect(() => {\n    getDocsWithProps<ILesson[]>('lessons', { email, 'price>': 0 }).then((data) => {\n      setLessons(data);\n      setSubCount(new Array(data.length));\n\n      data.forEach((les, idx) => {\n        setSubs(idx, les.id);\n      });\n    });\n  }, [email]);\n\n  let totalSub = 0;\n  let totalAmount = 0;\n  return (\n    <>\n      <h2>Subscriptions</h2>\n      <table className=\"center w100\">\n\n        <tbody>\n          { lessons.map((l, idx) => {\n            const count = subCount[idx] ?? 0;\n            totalSub += count ?? 0;\n            totalAmount += count * l.price;\n            return (\n              <tr key={l.id}>\n                <td>{l.topic}</td>\n                <td>{l.description}</td>\n                <td>{l.price}</td>\n                <td>{subCount[idx]}</td>\n                <td className=\"right\">{subCount[idx] && subCount[idx] * l.price}</td>\n              </tr>\n            );\n          }) }\n          <tr>\n            <td />\n            <td />\n            <td className=\"right\"><b>Total :</b></td>\n            <td><b>{totalSub}</b></td>\n            <td className=\"right\"><b>{ totalAmount && totalAmount }</b></td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Button } from '@material-ui/core';\nimport classes from '../ManageCourse.module.scss';\nimport { addDoc, getDocsWithProps } from '../../../../data/Store';\nimport { AppContext } from '../../../../App';\nimport { IExam } from '../../../../interfaces/IExam';\nimport { ITeacher } from '../../../../interfaces/ITeacher';\nimport { ISubject } from '../../../../interfaces/ISubject';\nimport { ICourse } from '../../../../interfaces/ICourse';\nimport { examYears } from '../../../../data/Config';\nimport { getObject } from '../../../../data/StoreHelper';\nimport { useBreadcrumb } from '../../../../hooks/useBreadcrumb';\nimport { IStream } from '../../../../interfaces/IStream';\n\nexport const UpgradeCourse = () => {\n  useBreadcrumb();\n  const { showSnackbar, email } = useContext(AppContext);\n  const [exams, setExams] = useState<IExam[]>([]);\n  const [subjects, setSubjects] = useState<ISubject[]>([]);\n  const [courses, setCourses] = useState<ICourse[]>([]);\n  const [streams, setStreams] = useState<IStream[]>([]);\n\n  useEffect(() => {\n    getDocsWithProps<ITeacher[]>('teachers', { ownerEmail: email }).then((data) => {\n      if (data.length > 0) {\n        const teacher = data[0];\n        getDocsWithProps<ICourse[]>('courses', { ownerEmail: teacher.id }).then((data) => setCourses(data));\n        getDocsWithProps<IStream[]>('streams',\n          { ownerEmail: teacher.id }).then((data) => setStreams(data));\n      }\n    });\n\n    getDocsWithProps<IExam[]>('exams', {}).then((data) => setExams(data));\n    getDocsWithProps<ISubject[]>('subjects', {}).then((data) => setSubjects(data));\n  }, [email]);\n\n  const createCourse = (course: IStream, year: string) => {\n    const newCourse: ICourse = {\n      id: '',\n      lessons: [],\n      examId: course.examId,\n      examYear: year,\n      subjectId: course.subjectId,\n      ownerEmail: course.ownerEmail,\n    };\n    addDoc('courses', newCourse).then(() => {\n      setCourses((prev) => {\n        const clone = [...prev, newCourse];\n        return clone;\n      });\n      showSnackbar(`New course created: ${newCourse.examYear}`);\n    });\n  };\n\n  return (\n    <>\n      <h3>Create Courses</h3>\n      <form\n        className={classes.root}\n        noValidate\n        autoComplete=\"off\"\n      >\n        {\n          streams.map((stream) => examYears.map((year) => {\n            const crsForYr = courses.findIndex((c) => c.subjectId === stream.subjectId\n               && c.examYear === year.id && c.ownerEmail === stream.ownerEmail && c.examId === stream.examId);\n\n            const exam = getObject(exams, stream.examId);\n\n            const courseString = `${exam?.name}-\n                ${getObject(subjects, stream.subjectId)?.name}-${year.name}-${exam?.type}`;\n\n            if (crsForYr >= 0) {\n              return <div key={courseString}>{courseString}</div>;\n            }\n\n            return (\n              <div key={courseString}>\n                {courseString}\n                <Button onClick={() => createCourse(stream, year.id)}>Create</Button>\n              </div>\n            );\n          }))\n        }\n      </form>\n    </>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport {\n  Button, Select, MenuItem, InputLabel, FormControl, FormControlLabel, Checkbox,\n} from '@material-ui/core';\nimport classes from '../ManageCourse.module.scss';\nimport { getDocsWithProps, updateDoc } from '../../../../data/Store';\nimport { getObject } from '../../../../data/StoreHelper';\nimport { AppContext } from '../../../../App';\nimport { IExam } from '../../../../interfaces/IExam';\nimport { ISubject } from '../../../../interfaces/ISubject';\nimport { useBreadcrumb } from '../../../../hooks/useBreadcrumb';\n\nexport const EditExam = () => {\n  useBreadcrumb();\n  const { showSnackbar } = useContext(AppContext);\n  const [exams, setExams] = useState<IExam[]>([]);\n  const [subjects, setSubjects] = useState<ISubject[]>([]);\n  const [selectedExamIdx, setSelectedExamIdx] = useState<number>(-1);\n\n  useEffect(() => {\n    getDocsWithProps<IExam[]>('exams', {}).then((data) => setExams(data));\n    getDocsWithProps<ISubject[]>('subjects', {}).then((data) => setSubjects(data));\n  }, []);\n\n  const onSelectedExamChange = (e: any) => {\n    setSelectedExamIdx(e.target.value);\n  };\n\n  const setSubjectIds = (subjIds: string[]) => {\n    setExams((prev) => {\n      const next = [...prev];\n      next[selectedExamIdx].subjectIds = subjIds;\n      return next;\n    });\n  };\n\n  const onSubjectChange = (e: any) => {\n    const { id: subjectId, checked } = e.target;\n    const subjecList = exams[selectedExamIdx].subjectIds ?? [];\n    const exists = subjecList.findIndex((id) => id === subjectId);\n\n    if (checked) {\n      if (exists === -1) {\n        setSubjectIds([subjectId, ...subjecList]);\n      }\n    } else if (exists >= 0) {\n      subjecList.splice(exists, 1);\n      setSubjectIds(subjecList);\n    }\n  };\n\n  const onSave = () => {\n    updateDoc('exams', exams[selectedExamIdx].id, { subjectIds: exams[selectedExamIdx].subjectIds })\n      .then(() => showSnackbar('Exam is updated'));\n  };\n\n  const disabled = selectedExamIdx < 0;\n\n  return (\n    <>\n      <h3>Edit Exam</h3>\n      <form\n        className={classes.root}\n        noValidate\n        autoComplete=\"off\"\n      >\n        <FormControl className={classes.input}>\n          <InputLabel id=\"demo-simple-select-label\">Select Exam</InputLabel>\n          <Select\n            className={classes.input}\n            labelId=\"label1\"\n            id=\"id1\"\n            value={selectedExamIdx >= 0 ? selectedExamIdx : ''}\n            onChange={onSelectedExamChange}\n          >\n            {exams?.map((exam, idx) => (\n              <MenuItem\n                value={idx}\n                key={exam.id}\n              >\n                {`${exam.name} ${exam.type}`}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <div className={classes.twoColumn}>\n          {selectedExamIdx !== -1 && subjects?.map((subject) => (\n            <FormControlLabel\n              key={subject.id}\n              control={(\n                <Checkbox\n                  id={subject.id}\n                  checked={(exams[selectedExamIdx].subjectIds ?? [])?.includes(subject.id)}\n                  onChange={onSubjectChange}\n                  name=\"checkedB\"\n                  color=\"primary\"\n                />\n        )}\n              label={getObject(subjects, subject.id)?.name}\n            />\n          ))}\n        </div>\n        <Button\n          variant=\"contained\"\n          onClick={onSave}\n          disabled={disabled}\n        >\n          Save\n        </Button>\n      </form>\n    </>\n  );\n};\n","import React, { useState, useContext } from 'react';\nimport {\n  TextField, Button,\n} from '@material-ui/core';\nimport classes from '../ManageCourse.module.scss';\nimport { addDoc } from '../../../../data/Store';\nimport { AppContext } from '../../../../App';\nimport { IExam } from '../../../../interfaces/IExam';\nimport { useBreadcrumb } from '../../../../hooks/useBreadcrumb';\n\nexport const AddExam = () => {\n  useBreadcrumb();\n  const [exam, setExam] = useState<IExam>();\n  const { showSnackbar } = useContext(AppContext);\n\n  const setExamProps = (obj: any) => {\n    setExam((prev) => {\n      const newObj = { ...prev, ...obj };\n      return newObj;\n    });\n  };\n\n  const onSave = () => {\n    addDoc('exams', exam).then(() => showSnackbar('Exam added'));\n  };\n\n  return (\n    <>\n      <h3>Add Exam</h3>\n      <form\n        className={classes.root}\n        noValidate\n        autoComplete=\"off\"\n      >\n        <TextField\n          className={classes.input}\n          id=\"subjectName\"\n          label=\"Exam Name\"\n          onChange={(e) => setExamProps({ name: e.target.value })}\n        />\n\n        {/* <TextField\n          className={classes.input}\n          id=\"subjectName\"\n          label=\"Batch/Year of exam\"\n          onChange={(e) => setExamProps({ batch: e.target.value })}\n        /> */}\n\n        <TextField\n          className={classes.input}\n          id=\"subjectName\"\n          label=\"Type Theory/Revision\"\n          onChange={(e) => setExamProps({ type: e.target.value })}\n        />\n\n        <Button\n          variant=\"contained\"\n          onClick={onSave}\n        >\n          Add\n        </Button>\n      </form>\n    </>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport {\n  TextField, Button,\n} from '@material-ui/core';\nimport { addDocWithId, getDocsWithProps } from '../../../../data/Store';\nimport { ListItems } from '../../../presentational/ListItems/ListItemsComponent';\nimport { AppContext } from '../../../../App';\nimport { useForcedUpdate } from '../../../../hooks/useForcedUpdate';\nimport { ITeacher } from '../../../../interfaces/ITeacher';\nimport { useBreadcrumb } from '../../../../hooks/useBreadcrumb';\nimport classes from './AddTeacher.module.scss';\n\nexport const AddTeacher = () => {\n  useBreadcrumb();\n  const [onUpdate, updateUI] = useForcedUpdate();\n  const { showSnackbar } = useContext(AppContext);\n  const [teacher, setTeacher] = useState<ITeacher>();\n  const [teachers, setTeachers] = useState<ITeacher[]>([]);\n\n  useEffect(() => {\n    // display existing teachers\n    getDocsWithProps<ITeacher[]>('teachers', {}).then((data) => setTeachers(data));\n  }, [onUpdate]);\n\n  const setTeacherProps = (obj: any) => {\n    setTeacher((prev) => {\n      const newObj = { ...prev, ...obj };\n      return newObj;\n    });\n  };\n\n  const onSave = async () => {\n    const teachers = await getDocsWithProps<ITeacher[]>('teachers', {});\n    if (teacher) {\n      teacher.shortId = `${teachers.length + 1}`;\n      addDocWithId<Omit<ITeacher, 'id'>>('teachers', teacher.ownerEmail, teacher).then(() => {\n        showSnackbar('New teacher added');\n        updateUI();\n      });\n    } else {\n      console.log('Teacher not set');\n    }\n  };\n\n  return (\n    <>\n      <h3>Add Teacher</h3>\n      <form\n        className={classes.root}\n        noValidate\n        autoComplete=\"off\"\n      >\n\n        <TextField\n          className={classes.input}\n          id=\"teacherName\"\n          label=\"Teacher Name\"\n          onChange={(e) => setTeacherProps({ name: e.target.value })}\n        />\n\n        <TextField\n          className={classes.input}\n          id=\"email\"\n          label=\"Email Address\"\n          onChange={(e) => setTeacherProps({ ownerEmail: e.target.value })}\n        />\n\n        <TextField\n          className={classes.input}\n          id=\"phone\"\n          label=\"Phone\"\n          onChange={(e) => setTeacherProps({ phone: e.target.value })}\n        />\n\n        <TextField\n          className={classes.input}\n          id=\"phoneChat\"\n          label=\"Phone Chat\"\n          onChange={(e) => setTeacherProps({ phoneChat: e.target.value })}\n        />\n\n        <Button\n          variant=\"contained\"\n          onClick={onSave}\n        >\n          Add\n        </Button>\n\n      </form>\n      <ListItems list={teachers} />\n    </>\n  );\n};\n","import React, { useState, useContext, useEffect } from 'react';\nimport {\n  TextField, Button,\n} from '@material-ui/core';\nimport classes from '../ManageCourse.module.scss';\nimport { addDoc, getDocsWithProps } from '../../../../data/Store';\nimport { AppContext } from '../../../../App';\nimport { ListItems } from '../../../presentational/ListItems/ListItemsComponent';\nimport { useForcedUpdate } from '../../../../hooks/useForcedUpdate';\nimport { ISubject } from '../../../../interfaces/ISubject';\nimport { useBreadcrumb } from '../../../../hooks/useBreadcrumb';\n\nexport const AddSubject = () => {\n  useBreadcrumb();\n  const [onUpdate, updateUI] = useForcedUpdate();\n  const { showSnackbar } = useContext(AppContext);\n  const [subject, setSubject] = useState<ISubject>();\n  const [subjects, setSubjects] = useState<ISubject[]>([]);\n\n  const setSubjectProps = (obj: any) => {\n    setSubject((prev) => {\n      const newObj = { ...prev, ...obj };\n      return newObj;\n    });\n  };\n\n  useEffect(() => {\n    getDocsWithProps<ISubject[]>('subjects', {}).then((data) => setSubjects(data));\n    // eslint-disable-next-line\n  },[onUpdate])\n\n  const onSave = () => {\n    addDoc('subjects', subject).then(() => {\n      showSnackbar('Subject added');\n      updateUI();\n    });\n  };\n\n  const disabled: boolean = (subject?.name.length ?? 0) < 2;\n\n  return (\n    <>\n      <h3>Add Subject</h3>\n      <form\n        className={classes.root}\n        noValidate\n        autoComplete=\"off\"\n      >\n\n        <TextField\n          className={classes.input}\n          id=\"subjectName\"\n          label=\"Subject Name\"\n          onChange={(e) => setSubjectProps({ name: e.target.value })}\n        />\n\n        <Button\n          variant=\"contained\"\n          onClick={onSave}\n          disabled={disabled}\n        >\n          Add\n        </Button>\n      </form>\n      <ListItems list={subjects} />\n    </>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport {\n  Button, Select, MenuItem, InputLabel, FormControl,\n} from '@material-ui/core';\nimport classes from '../ManageCourse.module.scss';\nimport { addDoc, getDocsWithProps } from '../../../../data/Store';\nimport { AppContext } from '../../../../App';\nimport { ITeacher } from '../../../../interfaces/ITeacher';\nimport { ISubject } from '../../../../interfaces/ISubject';\nimport { useBreadcrumb } from '../../../../hooks/useBreadcrumb';\nimport { IExam } from '../../../../interfaces/IExam';\nimport { IStream } from '../../../../interfaces/IStream';\nimport { ListItems } from '../../../presentational/ListItems/ListItemsComponent';\nimport { getObject } from '../../../../data/StoreHelper';\n\nexport const AddCourse = () => {\n  useBreadcrumb();\n  const { showSnackbar } = useContext(AppContext);\n  const [teachers, setTeachers] = useState<ITeacher[]>([]);\n  const [subjects, setSubjects] = useState<ISubject[]>([]);\n  const [exams, setExams] = useState<IExam[]>([]);\n  const [streams, setStreams] = useState<IStream[]>([]);\n\n  const [ownerEmail, setOwnerEmail] = useState('');\n  const [subjectId, setSubjectId] = useState('');\n  const [examId, setExamId] = useState('');\n\n  useEffect(() => {\n    getDocsWithProps<ITeacher[]>('teachers', {}).then((data) => setTeachers(data));\n    getDocsWithProps<ISubject[]>('subjects', {}).then((data) => setSubjects(data));\n    getDocsWithProps<IExam[]>('exams', {}).then((data) => setExams(data));\n  }, []);\n\n  useEffect(() => {\n    getDocsWithProps<IStream[]>('streams', {}).then((data) => setStreams(data));\n  }, [streams]);\n\n  const disabled = !examId || !subjectId || !ownerEmail;\n\n  const onSave = () => {\n    const idx = streams.findIndex((str) => str.examId === examId\n     && str.subjectId === subjectId && str.ownerEmail === ownerEmail);\n    if (idx >= 0) {\n      showSnackbar('Course already added for teacher');\n      return;\n    }\n    addDoc<Omit<IStream, 'id'>>('streams', {\n      examId,\n      subjectId,\n      ownerEmail,\n    }).then(() => {\n      setStreams([]);\n      showSnackbar('Course added for teacher');\n    });\n  };\n\n  return (\n    <>\n      <h3>Add Stream for Teacher</h3>\n      <form\n        className={classes.root}\n        noValidate\n        autoComplete=\"off\"\n      >\n        <FormControl className={classes.input}>\n          <InputLabel id=\"select-teacher\">Select Teacher</InputLabel>\n          <Select\n            className={classes.input}\n            labelId=\"label1\"\n            id=\"id1\"\n            value={ownerEmail}\n            onChange={(e: any) => {\n              setOwnerEmail(e.target.value);\n            }}\n          >\n            {teachers.map((t) => (\n              <MenuItem\n                value={t.ownerEmail}\n                key={t.ownerEmail}\n              >\n                {`${t.name}`}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <FormControl className={classes.input}>\n          <InputLabel id=\"select-subject\">Select Subject</InputLabel>\n          <Select\n            className={classes.input}\n            labelId=\"label1\"\n            id=\"id1\"\n            value={subjectId}\n            onChange={(e: any) => setSubjectId(e.target.value)}\n          >\n            {subjects.map((t) => (\n              <MenuItem\n                value={t.id}\n                key={t.id}\n              >\n                {`${t.name}`}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <FormControl className={classes.input}>\n          <InputLabel id=\"select-exam\">Select Exam</InputLabel>\n          <Select\n            className={classes.input}\n            labelId=\"label1\"\n            id=\"id1\"\n            value={examId}\n            onChange={(e: any) => setExamId(e.target.value)}\n          >\n            {exams.map((t) => (\n              <MenuItem\n                value={t.id}\n                key={t.id}\n              >\n                {`${t.name}-${t.type}`}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <Button\n          variant=\"contained\"\n          onClick={onSave}\n          disabled={disabled}\n        >\n          Add\n        </Button>\n      </form>\n\n      <ListItems list={streams.map((str) => {\n        const next = {\n          teacher: getObject(teachers, str.ownerEmail)?.name,\n          exam: getObject(exams, str.examId)?.name,\n          subject: getObject(subjects, str.subjectId)?.name,\n        };\n        return next;\n      })}\n      />\n    </>\n  );\n};\n","import React from 'react';\n\nexport const Payments = () => {\n  const t = 0;\n  console.log('Not implemented ', t);\n  return <h2>Payments </h2>;\n};\n","import React, { useContext } from 'react';\nimport clsx from 'clsx';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/BorderClear';\nimport MailIcon from '@material-ui/icons/BlurOn';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from '../../../App';\nimport { adminRoutes, teacherRoutes, commonRoutes } from '../../router/Router';\n\ninterface NavLink{\n  label: string;\n  url: string;\n}\n\nconst commonLinks: NavLink[] = commonRoutes.filter((r) => r[3]).map((r) => ({ url: r[0], label: r[2] }));\n\nconst teacherLinks: NavLink[] = teacherRoutes.filter((r) => r[3]).map((r) => ({ url: r[0], label: r[2] }));\n\nconst adminLinks: NavLink[] = adminRoutes.filter((r) => r[3]).map((r) => ({ url: r[0], label: r[2] }));\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250,\n    textDecoration: 'none',\n  },\n  fullList: {\n    width: 'auto',\n  },\n});\n\nexport const NavPanel = () => {\n  const classes = useStyles();\n  const [show, setShow] = React.useState(false);\n  const { isTeacher, isAdmin } = useContext(AppContext);\n\n  const toggleDrawer = (open: any) => (event: any) => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    setShow(open);\n  };\n\n  const linkSegment = (links: NavLink[]) => (\n    <List>\n      {links.map((item, index) => (\n        <Link\n          to={item.url}\n          key={item.label}\n          style={{ textDecoration: 'none', color: '#5d5d5d' }}\n        >\n          <ListItem button>\n            <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\n            <ListItemText primary={item.label} />\n          </ListItem>\n        </Link>\n      ))}\n    </List>\n  );\n\n  const list = () => (\n    <div\n      className={clsx(classes.list)}\n      role=\"presentation\"\n      onClick={toggleDrawer(false)}\n      onKeyDown={toggleDrawer(false)}\n    >\n      {linkSegment(commonLinks)}\n      <Divider />\n      {(isTeacher) && linkSegment(teacherLinks)}\n      <Divider />\n      {isAdmin() && linkSegment(adminLinks)}\n    </div>\n  );\n\n  return (\n    <div>\n      <>\n        <Button onClick={toggleDrawer(true)}>\n          <MenuIcon htmlColor=\"white\" />\n        </Button>\n\n        <Drawer\n          anchor=\"left\"\n          open={show}\n          onClose={toggleDrawer(false)}\n        >\n          {list()}\n        </Drawer>\n      </>\n    </div>\n  );\n};\n","import React, { useState, useContext, useEffect } from 'react';\nimport {\n  AppBar, Toolbar, Typography, Button,\n} from '@material-ui/core';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport classes from './Header.module.scss';\nimport { NavPanel } from '../../presentational/navPanel/NavPanel';\nimport { AppContext } from '../../../App';\nimport { getDocsWithProps } from '../../../data/Store';\nimport { ITeacher } from '../../../interfaces/ITeacher';\nimport { Util } from '../../../helper/util';\n\nexport const Header:React.FC = () => {\n  const [user, setUser] = useState <{name: '', photo: ''} | null>(null);\n  const { setEmail, setIsTeacher } = useContext(AppContext);\n\n  const setUserDetails = (result: any) => {\n    let email;\n    if (result.user) {\n      email = result.user.email;\n    } else {\n      email = result.email;\n    }\n    setEmail(email);\n    setUser({\n      name: result.displayName,\n      photo: result.photoURL,\n    });\n\n    getDocsWithProps<ITeacher[]>('teachers', { ownerEmail: email }).then((data) => {\n      if (data.length > 0) {\n        setIsTeacher(true);\n      } else {\n        setIsTeacher(false);\n      }\n    });\n  };\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((u: any) => {\n      if (u) {\n        setUserDetails(u);\n      } else {\n        setEmail(null);\n        setIsTeacher(false);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const handleLogin = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider).then((result:any) => {\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      // const token = result.credential.accessToken;\n      // const user2 = result.user;\n      setUserDetails(result);\n\n      // setName(user.displayName);\n      // ...\n    }).catch((error) => {\n      // // Handle Errors here.\n      // const errorCode = error.code;\n      // const errorMessage = error.message;\n      // // The email of the user's account used.\n      // const { email } = error;\n      // // The firebase.auth.AuthCredential type that was used.\n      // const { credential } = error;\n      // // ...\n    });\n  };\n\n  Util.invokeLogin = handleLogin;\n\n  const handleLogout = () => {\n    firebase.auth().signOut().then(() => {\n      // Sign-out successful.\n      setEmail(null);\n      setUser(null);\n    }).catch((error) => {\n      // An error happened.\n    });\n  };\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar className={classes.container}>\n        <NavPanel />\n        <Typography\n          variant=\"h6\"\n          className={classes.title}\n        >\n          අක්ෂර.lk\n        </Typography>\n        <Button\n          color=\"inherit\"\n          onClick={handleLogin}\n        >\n          {user?.name ? <span className={classes.userName}>{user?.name}</span> : 'Login'}\n        </Button>\n        { user && user.photo && (\n          <img\n            alt={user?.name}\n            src={user?.photo}\n          />\n        )}\n        { user && (\n        <Button\n          color=\"inherit\"\n          onClick={handleLogout}\n        >\n          <PowerSettingsNewIcon style={{ fontSize: 25 }} />\n        </Button>\n        )}\n\n      </Toolbar>\n\n    </AppBar>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport Snackbar, { SnackbarOrigin } from '@material-ui/core/Snackbar';\n\nexport interface State extends SnackbarOrigin {\n  open: boolean;\n}\ninterface Props {\n  text: string;\n  state: State;\n  handleClose: () => void;\n}\nexport const Snack: React.FC<Props> = ({ text, state, handleClose }) => {\n  const { vertical, horizontal, open } = state;\n\n  return (\n    <div>\n      <Snackbar\n        anchorOrigin={{ vertical, horizontal }}\n        open={open}\n        onClose={handleClose}\n        message={text}\n        key={vertical + horizontal}\n      />\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from './components/container/header/Header';\n// import Footer from './components/presentational/footer/Footer';\nimport Router from './components/router/Router';\nimport { Snack, State } from './components/presentational/snackbar/Snack';\nimport { adminEmail } from './data/Config';\n\nexport interface IContext {\n  email: string | null;\n  isTeacher: boolean | undefined;\n  breadcrumbs?: any[];\n  setIsTeacher: (isTeacher: boolean) => void;\n  setEmail: (email: string|null) => void,\n  updateBreadcrumbs: (bcrumbs: any) => void;\n  showSnackbar:(message: string) => void;\n  isAdmin: () => boolean;\n}\n\nconst initialState = {\n  email: null,\n  isTeacher: false,\n  breadcrumbs: [],\n  setIsTeacher: (isTeacher: boolean) => {},\n  setEmail: (email: string|null) => {},\n  updateBreadcrumbs: (bcrumbs: any) => {},\n  showSnackbar: (message: string) => {},\n  isAdmin: () => false,\n};\nexport const AppContext = React.createContext<IContext>(\n  initialState,\n);\n\nconst App: React.FC = () => {\n  const [breadcrumbs, setBreadcrumbs] = useState<any>([]);\n  const [snackText, setSnackText] = useState<string>('');\n  const [email, setEmail] = useState<string|null>(null);\n  const [isTeacher, setIsTeacher] = useState<boolean | undefined>(undefined);\n\n  const [state, setState] = React.useState<State>({\n    open: false,\n    vertical: 'top',\n    horizontal: 'center',\n  });\n\n  const showSnackbar = (text: string) => {\n    setSnackText(text);\n    setState((prev) => {\n      const next = { ...prev, open: true };\n      return next;\n    });\n  };\n\n  const hideSnackbar = () => {\n    setState((prev) => {\n      const next = { ...prev, open: false };\n      return next;\n    });\n  };\n\n  const updateBreadcrumbs = (obj: any) => {\n    setBreadcrumbs(obj);\n  };\n\n  const isAdmin = () => email === adminEmail;\n\n  return (\n    <BrowserRouter>\n      <AppContext.Provider value={{\n        isTeacher, setIsTeacher, email, breadcrumbs, showSnackbar, setEmail, updateBreadcrumbs, isAdmin,\n      }}\n      >\n        <Snack\n          text={snackText}\n          state={state}\n          handleClose={hideSnackbar}\n        />\n        <Header />\n        <Router />\n        {/* <Footer /> */}\n      </AppContext.Provider>\n    </BrowserRouter>\n  );\n};\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AddLesson_root__-G3BE\",\"input\":\"AddLesson_input__1wXPA\",\"inputMulti\":\"AddLesson_inputMulti__2vU6C\",\"saveOrder\":\"AddLesson_saveOrder__3Rq-m\",\"backlog\":\"AddLesson_backlog__35dpO\",\"oneColumn\":\"AddLesson_oneColumn__iPlZs\",\"twoColumn\":\"AddLesson_twoColumn__CgQp0\",\"video\":\"AddLesson_video__17AGb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Category_root__22OQo\",\"selected\":\"Category_selected__3xs1B\",\"image\":\"Category_image__3KCc6\",\"content\":\"Category_content__2Ebov\",\"title1\":\"Category_title1__3Ak3Z\",\"iconTitle\":\"Category_iconTitle__1LyBU\",\"actions\":\"Category_actions__1cC3C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AddTeacher_root__149PP\",\"input\":\"AddTeacher_input__38wgQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Lesson_root__1WCBU\",\"topic\":\"Lesson_topic__3uYFm\",\"attachments\":\"Lesson_attachments__I27Si\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Header_root__3dgmC\",\"menuButton\":\"Header_menuButton__2RGZ-\",\"title\":\"Header_title__2UnJC\",\"userName\":\"Header_userName__2d5Iv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Subjects_root__2R7E1\",\"card\":\"Subjects_card__3BRyr\",\"sub\":\"Subjects_sub__1uyTC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Router_container__12f3j\",\"loading\":\"Router_loading__3dWKx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"purchase\":\"Course_purchase__2gB-5\",\"box\":\"Course_box__2sofi\"};"],"sourceRoot":""}