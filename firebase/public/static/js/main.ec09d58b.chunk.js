(this.webpackJsonpsms=this.webpackJsonpsms||[]).push([[0],{107:function(e,t,a){e.exports={root:"ListItems_root__10e2h"}},110:function(e,t,a){e.exports={name:"Teacher_name__24GbP"}},115:function(e,t,a){e.exports={container:"Footer_container__S8hyB"}},12:function(e,t,a){e.exports={root:"ManageCourse_root__2YhC8",input:"ManageCourse_input__2tVLu",oneColumn:"ManageCourse_oneColumn__3XtOV",twoColumn:"ManageCourse_twoColumn__1-Mr2",center:"ManageCourse_center__AfQDZ"}},127:function(e,t,a){e.exports=a(147)},132:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(10),r=a.n(o),l=(a(132),a(19)),i=a(4),u=a(17),s=a(206),d=a(207),m=a(63),f=a(194),b=a(35),v=a.n(b),h=(a(133),a(114)),E=a.n(h),p=a(78),j=a.n(p),O=a(3),g=a(113),C=a.n(g),y=a(204),x=a(213),S=a(199),_=a(203),k=a(149),w=a(205),N=a(202),I=a(111),L=a.n(I),A=a(112),T=a.n(A),P=a(13),R=a(82),U=a.n(R),D=a(100),B=a.n(D),F=a(99),z=a.n(F),M=a(85),V=a.n(M),Y=a(98),G=a.n(Y),W=a(44),H=a.n(W),J=function(e){var t=e.id,a=e.title1,o=void 0===a?"":a,r=e.title2,l=void 0===r?"":r,s=e.navURL,d=e.onSelect,m=e.status,f=e.CategoryImg,b=Object(n.useState)(!1),v=Object(i.a)(b,2),h=v[0],E=v[1];return c.a.createElement(u.b,{className:"".concat(H.a.root," ").concat(h&&H.a.selected),to:s,style:{textDecoration:"none",color:"#5d5d5d"},onClick:function(){t&&d&&(E(!h),d(t,!h))}},c.a.createElement("div",{className:H.a.image},c.a.createElement(f,{htmlColor:"#3f51b5",style:{fontSize:40}})),c.a.createElement("div",{className:H.a.content},c.a.createElement("div",{className:H.a.title1},o),c.a.createElement("div",{className:H.a.iconTitle},"yes"===m&&c.a.createElement(V.a,{htmlColor:"#0aa04d"}),"no"===m&&c.a.createElement(G.a,{htmlColor:"red"}),"none"===m&&c.a.createElement(V.a,{htmlColor:"#ffa500"}),l)),c.a.createElement("div",{className:H.a.actions},c.a.createElement(z.a,{htmlColor:"#3f51b5",style:{fontSize:40}})))},K={},Q=function(e){e&&e.forEach((function(e){K[e.id]=e}))},Z=function(){var e=Object(P.f)(),t=e.examId,a=e.year,c=e.subjectId,o=e.courseId,r=e.teacherId,l=Object(n.useContext)(Lt).updateBreadcrumbs,u=Object(n.useState)([]),s=Object(i.a)(u,2),d=s[0],m=s[1],f=Object(n.useCallback)((function(e){e.length!==d.length&&(l(e),m(e))}),[]);return Object(n.useEffect)((function(){var e=[["Exams","/"]];if(!r){if(t){var n=K[t]?"".concat(K[t].name,"-").concat(K[t].type):"Exam Year";e.push([n,"/".concat(t)])}if(a){var l=K[a]?"".concat(K[a].name):"Subjects";e.push([l,"/".concat(t,"/").concat(a)])}if(c){var i=K[c]?"".concat(K[c].name):"Courses";e.push([i,"/".concat(t,"/").concat(a,"/").concat(c)])}if(o){var u=K[o]&&K[K[o].teacherId]?"".concat(K[K[o].teacherId].name):"Lessons";e.push([u,"/".concat(t,"/").concat(a,"/").concat(c,"/").concat(o)])}}f(e)}),[t,c,o,f,a,r]),Q},q=(a(139),a(148),a(208)),X={apiKey:"AIzaSyBx8WR38L8eznu6HtwJghjptEN3Ah6HqzE",authDomain:"akshara-8630e.firebaseapp.com",databaseURL:"https://akshara-8630e.firebaseio.com",projectId:"akshara-8630e",storageBucket:"akshara-8630e.appspot.com",messagingSenderId:"613661168552",appId:"1:613661168552:web:46b655f214b7d0bc18c39d",measurementId:"G-23MFY9WDH7"},$=[{id:"2021",name:"2021"}],ee=v.a.initializeApp(X),te=v.a.firestore(ee),ae=v.a.storage(ee),ne={};console.log("firebase initialized");var ce=function(e){for(var t=0,a=Object.keys(ne);t<a.length;t++){var n=a[t];n.startsWith(e)&&(ne[n]=null)}},oe=function(e,t){return new Promise((function(a){delete t.id,te.collection(e).add(t).then((function(t){console.log(t.id),ce(e),a(t.id)})).catch((function(e){console.log(e),a(e)}))}))},re=function(e,t,a){return new Promise((function(n){te.collection(e).doc(t).set(a).then((function(t){ce(e),n(!0)})).catch((function(e){console.log(e),n(!1)}))}))},le=function(e,t,a){return new Promise((function(n){te.collection(e).doc(t).update(a).then((function(t){ce(e),n(!0)})).catch((function(e){console.log(e),n(!1)}))}))},ie=function(e,t){return"".concat(e,"-").concat(JSON.stringify(t),"}")},ue=function(e,t){return new Promise((function(a){var n,c=ne[ie(e,t)];if(c)a(c);else{var o,r=te.collection(e);Object.keys(t).forEach((function(e){var a;if(e.includes(">")||e.includes("<"))o=(null!==(a=o)&&void 0!==a?a:r).where(e.substring(0,e.length-1),e.charAt(e.length-1),t[e]);else if("limit"===e){var n;o=(null!==(n=o)&&void 0!==n?n:r).limit(t[e])}else if(Array.isArray(t[e])){var c;o=(null!==(c=o)&&void 0!==c?c:r).where(e,"array-contains",t[e][0])}else{var l;o=(null!==(l=o)&&void 0!==l?l:r).where(e,"==",t[e])}}));var l=[];(null!==(n=o)&&void 0!==n?n:r).get().then((function(n){n.forEach((function(e){var t=e.data();t.id=e.id,l.push(t)})),ne[ie(e,t)]=l,a(l)})).catch((function(e){console.error(e),a(void 0)}))}}))},se=function(e,t){return new Promise((function(a){te.collection(e).doc(t).get().then((function(e){e.exists?a(e.data()):(a(null),console.log("getDocWithId: No such document!"))}))}))},de=a(20),me=a.n(de),fe=a(37),be=a(191),ve=a(192),he=a(193),Ee=a(73),pe=a.n(Ee),je=a(79),Oe=a.n(je),ge=a(101),Ce=a.n(ge),ye=function(e,t){var a=e.filter((function(e){return e.id===t}));return a.length>0?a[0]:null},xe=a(61),Se=a(25),_e=a(103),ke=a.n(_e),we=a(102),Ne=function e(){Object(we.a)(this,e)};Ne.invokeLogin=null;var Ie=a(86),Le=a.n(Ie),Ae=payhere,Te=function(e){var t=e.amount,a=e.email,o=e.onSuccess,r=Object(n.useContext)(Lt).showSnackbar,l={sandbox:!0,merchant_id:"1215643",return_url:void 0,cancel_url:void 0,notify_url:"http://sample.com/notify",order_id:"ItemNo12345",items:"Lessons subsctiption",amount:"".concat(t),currency:"LKR",first_name:a,last_name:"",email:a,phone:"0771234567",address:"No.1, Galle Road",city:"Colombo",country:"Sri Lanka"};return Ae.onDismissed=function(){console.log("Payment dismissed"),r("Payment dismissed")},Ae.onError=function(e){console.log("Error: ".concat(e)),r("Error: ".concat(e))},Ae.onCompleted=function(e){console.log("Payment completed. OrderID:".concat(e)),o()},c.a.createElement(f.a,{variant:"contained",onClick:function(){return Ae.startPayment(l)},color:"secondary"},"Purchase")},Pe=function(){Z();var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(),u=Object(i.a)(r,2),s=u[0],d=u[1],m=Object(n.useState)(0),f=Object(i.a)(m,2),b=f[0],v=f[1],h=Object(n.useContext)(Lt),E=h.email,p=h.showSnackbar,j=Object(P.f)().courseId,O=Object(n.useState)([]),g=Object(i.a)(O,2),C=g[0],y=g[1];Object(n.useEffect)((function(){Promise.all([ue("users",{email:E}),ue("lessons",{}),se("courses",j)]).then((function(e){var t=Object(i.a)(e,3),a=t[0],n=t[1],c=t[2];if(a&&n&&c){var o=[];null===c||void 0===c||c.lessons.forEach((function(e){var t=n.find((function(t){return t.id===e}));t?o=[t].concat(Object(Se.a)(o)):console.error("lesson not found",e)})),null===n||void 0===n||n.filter((function(e){return null===c||void 0===c?void 0:c.lessons.includes(e.id)})),d(a[0]),y(o)}}))}),[E,a]);var x=function(e,t){if(E){var n=0,c=Object(l.a)({},a);c[e]=t;var r,i=Object(xe.a)(C);try{for(i.s();!(r=i.n()).done;){var u=r.value;c[u.id]&&u.price&&(n+=u.price)}}catch(s){i.e(s)}finally{i.f()}o(c),v(n)}else Ne.invokeLogin&&Ne.invokeLogin()},S=function(){p("Subscribed to lessons"),o({}),v(0)},_=function(){var e=Object(fe.a)(me.a.mark((function e(){var t,n,c,o,r,l,u,d,m;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:if(s){for(t=0,n=Object.entries(a);t<n.length;t++)c=Object(i.a)(n[t],2),o=c[0],c[1]&&s.lessons.push(o);le("users",s.id,s).then((function(){S()}))}else{for(r={id:"",ownerEmail:E,lessons:[]},l=0,u=Object.entries(a);l<u.length;l++)d=Object(i.a)(u[l],2),m=d[0],d[1]&&r.lessons.push(m);oe("users",r).then((function(){S()}))}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"container"},b>0&&E&&c.a.createElement("div",{className:Le.a.purchase},c.a.createElement("div",{className:Le.a.box},c.a.createElement("span",null,"Rs. ".concat(b,".00")),c.a.createElement(Te,{amount:b,email:E,onSuccess:_}))),null===C||void 0===C?void 0:C.map((function(e,t){var a;return a=e.price?(null===s||void 0===s?void 0:s.lessons.includes(e.id))?"yes":"no":"none",c.a.createElement(J,{id:e.id,key:t,CategoryImg:ke.a,title1:"".concat(e.topic),title2:"".concat(e.description),navURL:!e.price||(null===s||void 0===s?void 0:s.lessons.includes(e.id))?"".concat(j,"/").concat(e.id):"".concat(j),onSelect:x,status:a})})))},Re=a(215),Ue=function(){var e=Object(n.useContext)(Lt).breadcrumbs;return c.a.createElement(Re.a,{"aria-label":"breadcrumb",style:{margin:"10px 20px"}},null===e||void 0===e?void 0:e.map((function(e){return c.a.createElement(u.b,{style:{textDecoration:"none",color:"grey"},key:e[0],color:"inherit",to:e[1]},e[0])})))},De=a(195),Be=a(217),Fe=a(209),ze=a(200),Me=a(216),Ve=a(201),Ye=a(211),Ge=a(219),We=a(105),He=a.n(We),Je=a(106),Ke=a.n(Je),Qe=a(104),Ze=a.n(Qe),qe=a(22),Xe=a.n(qe),$e=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],c=t[1];return[a,function(){c((function(e){return e+1}))}]},et=a(12),tt=a.n(et),at=a(107),nt=a.n(at),ct=function(e){var t=e.list;return c.a.createElement("div",{className:nt.a.root},c.a.createElement(S.a,{component:"nav","aria-label":"mailbox folders"},t.map((function(e,t){}))))},ot=a(212),rt=a(57),lt=a.n(rt),it=a(108),ut=a.n(it),st=a(62),dt=a.n(st),mt=a(109),ft=a.n(mt),bt=a(110),vt=a.n(bt),ht=[["/teacher/:teacherId",function(){Z();var e=Object(P.f)().teacherId,t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)([]),f=Object(i.a)(m,2),b=f[0],v=f[1],h=Object(n.useState)(void 0),E=Object(i.a)(h,2),p=E[0],j=E[1];return Object(n.useEffect)((function(){ue("subjects",{}).then((function(e){return d(e)})),ue("exams",{}).then((function(e){return v(e)})),ue("teachers",{shortId:e}).then((function(e){if(e.length>0){var t=e[0];j(t),ue("courses",{ownerEmail:t.ownerEmail}).then((function(e){return r(e)}))}}))}),[e]),c.a.createElement("div",{className:"container"},p&&c.a.createElement("div",{className:vt.a.name},"Courses from"," ".concat(null===p||void 0===p?void 0:p.name)),o.map((function(t){var a=ye(s,t.subjectId),n=ye($,t.examYear),o=ye(b,t.examId);return c.a.createElement(J,{key:t.id,title1:"".concat(null===a||void 0===a?void 0:a.name," [").concat(null===o||void 0===o?void 0:o.type,"]"),title2:"".concat(null===o||void 0===o?void 0:o.name,"-").concat(null===n||void 0===n?void 0:n.name),navURL:"".concat(e,"/").concat(t.id),CategoryImg:pe.a})})))},"Teacher",!1],["/teacher/:teacherId/:courseId",Pe,"Teacher",!1],["/:examId/:year/:subjectId/:courseId/:lessonId",function(){var e;Z();var t=Object(P.f)().lessonId,a=Object(n.useState)(null),o=Object(i.a)(a,2),r=o[0],l=o[1],u=Object(n.useState)(),s=Object(i.a)(u,2),d=s[0],m=s[1],f=function(){var e=Object(fe.a)(me.a.mark((function e(){var a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se("lessons",t);case 2:(a=e.sent)&&(ue("teachers",{ownerEmail:a.ownerEmail}).then((function(e){return e&&l(e[0])})),m(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){f()}),[]),c.a.createElement("div",{className:dt.a.root},c.a.createElement("div",{className:dt.a.topic},null===d||void 0===d?void 0:d.topic),(null===d||void 0===d?void 0:d.videoURL)&&c.a.createElement("video",{width:"100%",height:"100%",controls:!0,controlsList:"nodownload"},c.a.createElement("source",{src:null===d||void 0===d?void 0:d.videoURL,type:"video/mp4"})),r&&c.a.createElement("div",null,c.a.createElement(ut.a,{number:r.phoneChat,message:"[".concat(null===d||void 0===d?void 0:d.topic,"]:")},c.a.createElement("div",null,"Ask Questions"))),c.a.createElement("div",{className:dt.a.desc},null===d||void 0===d?void 0:d.description),c.a.createElement("div",{className:dt.a.attachments},null===d||void 0===d||null===(e=d.attachments)||void 0===e?void 0:e.map((function(e){return c.a.createElement("li",null,c.a.createElement("a",{href:e,rel:"noopener noreferrer",target:"_blank"},e))}))))},"Lesson",!1],["/:examId/:year/:subjectId/:courseId",Pe,"Course",!1],["/:examId/:year/:subjectId",function(){var e=Z(),t=Object(P.f)(),a=t.subjectId,o=t.examId,r=t.year,l=Object(n.useState)([]),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)([]),f=Object(i.a)(m,2),b=f[0],v=f[1],h=Object(n.useState)([]),E=Object(i.a)(h,2),p=E[0],j=E[1];return Object(n.useEffect)((function(){ue("courses",{subjectId:a,examId:o,examYear:r}).then((function(t){d(t),e(t)})),ue("teachers",{}).then((function(t){v(t),e(t)})),ue("exams",{}).then((function(e){return j(e)}))}),[]),c.a.createElement("div",{className:"container"},c.a.createElement("h3",null,"Courses"),s.map((function(e){var t=ye(b,e.ownerEmail),n=ye(p,e.examId);return c.a.createElement(J,{key:e.id,CategoryImg:Ce.a,title1:null===t||void 0===t?void 0:t.name,title2:" ".concat(null===n||void 0===n?void 0:n.type," [").concat(null===n||void 0===n?void 0:n.name,"]"),navURL:"".concat(a,"/").concat(e.id)})})))},"Courses",!1],["/:examId/:year",function(){var e=Object(P.f)(),t=e.year,a=e.examId,o=Object(n.useState)([]),r=Object(i.a)(o,2),l=r[0],s=r[1],d=Z(),f=function(){var e=Object(fe.a)(me.a.mark((function e(){var t,n,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se("exams",a);case 2:return t=e.sent,e.next=5,ue("subjects",{});case 5:n=e.sent,c=n.filter((function(e){var a;return null===t||void 0===t||null===(a=t.subjectIds)||void 0===a?void 0:a.includes(e.id)})),s(c),d(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){f()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Oe.a.root},l.map((function(e){return c.a.createElement(u.b,{key:e.id,to:"".concat(t,"/").concat(e.id),style:{textDecoration:"none",color:"#5d5d5d"}},c.a.createElement(be.a,{className:Oe.a.card},c.a.createElement(ve.a,null,c.a.createElement(he.a,null,c.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h2"},c.a.createElement(pe.a,null),c.a.createElement("span",{className:Oe.a.sub},e.name))))))}))))},"Subjects",!1],["/:examId",function(){var e=Object(P.f)().examId;return Z()($),c.a.createElement("div",{className:"container"},null===$||void 0===$?void 0:$.map((function(t){return c.a.createElement(J,{key:t.id,title1:t.name,CategoryImg:ft.a,navURL:"".concat(e,"/").concat(t.id)})})))},"Years",!1],["/",function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Z();return Object(n.useEffect)((function(){ue("exams",{}).then((function(e){o(e),r(e)}))}),[]),c.a.createElement("div",{className:"container"},null===a||void 0===a?void 0:a.map((function(e){return c.a.createElement(J,{key:e.id,title1:"".concat(e.name,"-").concat(e.type),CategoryImg:B.a,navURL:"".concat(e.id)})})))},"Exams",!0]],Et=[["/addLesson",function(){Z();var e=$e(),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useContext)(Lt),u=r.showSnackbar,s=r.email,d=Object(n.useState)(),m=Object(i.a)(d,2),b=m[0],h=m[1],E=Object(n.useState)(0),p=Object(i.a)(E,2),j=p[0],O=p[1],g=Object(n.useState)(void 0),C=Object(i.a)(g,2),y=C[0],x=C[1],w=Object(n.useState)(""),I=Object(i.a)(w,2),L=I[0],A=I[1],T=Object(n.useState)(!1),P=Object(i.a)(T,2),R=P[0],U=P[1],D=Object(n.useState)(!1),B=Object(i.a)(D,2),F=B[0],z=B[1],M=Object(n.useState)([]),V=Object(i.a)(M,2),Y=V[0],G=V[1],W=Object(n.useState)([]),H=Object(i.a)(W,2),J=H[0],K=H[1],Q=Object(n.useState)([]),X=Object(i.a)(Q,2),$=X[0],ee=X[1],te=Object(n.useState)([]),ne=Object(i.a)(te,2),ce=ne[0],re=ne[1],ie=Object(n.useState)(""),se=Object(i.a)(ie,2),de=se[0],be=se[1],ve=Object(n.useState)([]),he=Object(i.a)(ve,2),Ee=he[0],pe=he[1],je=Object(n.useState)([]),Oe=Object(i.a)(je,2),ge=Oe[0],Ce=Oe[1],_e=Object(n.useState)(!1),ke=Object(i.a)(_e,2),we=ke[0],Ne=ke[1],Ie=Object(n.useState)(),Le=Object(i.a)(Ie,2),Ae=Le[0],Te=Le[1],Pe=Object(n.useState)(!1),Re=Object(i.a)(Pe,2),Ue=Re[0],We=Re[1],Je=Object(n.useState)(""),Qe=Object(i.a)(Je,2),qe=Qe[0],et=Qe[1],tt=Object(n.useState)([]),at=Object(i.a)(tt,2),nt=at[0],ct=at[1],ot=Object(n.useState)(""),rt=Object(i.a)(ot,2),lt=rt[0],it=rt[1],ut=Object(n.useState)(""),st=Object(i.a)(ut,2),dt=st[0],mt=st[1],ft=Object(n.useState)(""),bt=Object(i.a)(ft,2),vt=bt[0],ht=bt[1],Et=Object(n.useState)(0),pt=Object(i.a)(Et,2),jt=pt[0],Ot=pt[1],gt=function(){z(!1),Ne(!1),U(!1),O(0),et(""),mt(""),it(""),ct([]),ht(""),Ot(0),x(null)},Ct=function(e,t,a){if(t&&""!==t){be(t);var n,c=e.filter((function(e){return e.id===t}))[0],o={},r=[],l=Object(xe.a)(a);try{for(l.s();!(n=l.n()).done;){var i,u=n.value;(null===(i=c.lessons)||void 0===i?void 0:i.includes(u.id))?o[u.id]=u:r.push(u)}}catch(b){l.e(b)}finally{l.f()}var s,d=[],m=Object(xe.a)(c.lessons);try{for(m.s();!(s=m.n()).done;){var f=o[s.value];f&&(d=[].concat(Object(Se.a)(d),[f]))}}catch(b){m.e(b)}finally{m.f()}pe(d),Ce(r.sort((function(e,t){return t.date-e.date}))),gt()}};Object(n.useEffect)((function(){Promise.all([ue("courses",{ownerEmail:s}),ue("lessons",{ownerEmail:s})]).then((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];G(a),re(n),Ct(a,de,n)})),ue("subjects",{}).then((function(e){return ee(e)})),ue("exams",{}).then((function(e){return K(e)}))}),[a]);var yt=j>0&&j<100,xt=function(){var e=Object(fe.a)(me.a.mark((function e(t){var a,n,c,r;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=3;break}return u("Error with logged in user"),e.abrupt("return");case 3:if(!R){e.next=10;break}if(Ae){e.next=6;break}return e.abrupt("return");case 6:a=Object(l.a)({},Ae,{},{topic:qe,description:lt,attachments:nt,keywords:dt,videoURL:t,price:jt}),le("lessons",Ae.id,a).then((function(){u("".concat(Ae.topic," modified successfully")),gt(),o()})),e.next=21;break;case 10:return n=Y.filter((function(e){return e.id===de}))[0],c={id:"",date:(new Date).getTime(),topic:qe,description:lt,attachments:nt,keywords:"".concat(n.examYear),videoURL:t,price:jt,ownerEmail:s},e.next=14,oe("lessons",c);case 14:return c.id=e.sent,r=Y.filter((function(e){return e.id===de}))[0].lessons,e.next=18,le("courses",de,{lessons:[c.id].concat(Object(Se.a)(null!==r&&void 0!==r?r:[]))});case 18:u("Lesson Added"),gt(),o();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(e){var t,a,n,c,o,r;Ne(!1),Te(e),et(null!==(t=e.topic)&&void 0!==t?t:""),mt(null!==(a=e.keywords)&&void 0!==a?a:""),it(null!==(n=e.description)&&void 0!==n?n:""),ct(null!==(c=e.attachments)&&void 0!==c?c:[]),ht(null!==(o=e.videoURL)&&void 0!==o?o:""),Ot(null!==(r=e.price)&&void 0!==r?r:0)},_t=function(e,t){var a=Object(Se.a)(Ee),n=t?e-1:e+1;if(!(n<0||n>=Ee.length)){var c=Object(l.a)({},a[e]),o=Object(l.a)({},a[n]);a[e]=o,a[n]=c,z(!0),pe(a)}};return s?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Manage Lessons"),c.a.createElement("form",{className:Xe.a.root,noValidate:!0,autoComplete:"off"},c.a.createElement("div",null,c.a.createElement(De.a,{className:Xe.a.input},c.a.createElement(Be.a,{id:"demo-simple-select-label"},"Select Course"),c.a.createElement(Fe.a,{className:Xe.a.input,labelId:"label1",id:"id1",value:de,disabled:yt,onChange:function(e){return Ct(Y,e.target.value,ce)}},Y.map((function(e){var t=ye($,e.subjectId),a=ye(J,e.examId);return c.a.createElement(ze.a,{value:e.id,key:e.id},"".concat(e.examYear,"-").concat(null===a||void 0===a?void 0:a.name,"-").concat(null===a||void 0===a?void 0:a.type,"-").concat(null===t||void 0===t?void 0:t.name))})))),de&&c.a.createElement("div",null,c.a.createElement(Me.a,{className:Xe.a.twoColumn,"aria-label":"gender",name:"gender1",value:R,onChange:function(e){"false"===e.target.value&&gt()}},c.a.createElement(Ve.a,{value:!1,control:c.a.createElement(Ye.a,null),label:"Add New Lesson",disabled:yt}),c.a.createElement(Ve.a,{value:!0,control:c.a.createElement(Ye.a,null),label:"Edit lesson",disabled:yt})),c.a.createElement(Ge.a,{className:Xe.a.input,id:"standard-basic1",label:"Topic",value:qe,disabled:yt,onChange:function(e){return et(e.target.value)}}),c.a.createElement(Me.a,{className:Xe.a.twoColumn,"aria-label":"gender",name:"gender1",value:we,onChange:function(e){Ne("true"===e.target.value)}},c.a.createElement(Ve.a,{value:!1,control:c.a.createElement(Ye.a,null),label:"Copy Previous Video",disabled:yt}),c.a.createElement(Ve.a,{value:!0,control:c.a.createElement(Ye.a,null),label:"Upload New Video",disabled:yt})),!we&&c.a.createElement("div",{className:Xe.a.backlog},ce.length>0&&c.a.createElement(Ge.a,{className:Xe.a.input,id:"filled-basic",label:"Search Previous Lessons...",value:L,onChange:function(e){return A(e.target.value)},onBlur:function(){return setTimeout((function(){return We(!1)}),400)},onFocus:function(){return We(!0)},disabled:yt}),Ue&&c.a.createElement("table",{className:"center w100"},c.a.createElement("tbody",null,ge.map((function(e){var t,a,n,o,r=L.toLocaleLowerCase();return""===L||(null===(t=e.topic)||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(r))||(null===(n=e.description)||void 0===n||null===(o=n.toLowerCase())||void 0===o?void 0:o.includes(r))?c.a.createElement("tr",{key:e.id,style:{cursor:"pointer"},onClick:function(){U(!1),St(e),We(!1)}},c.a.createElement("td",null,e.date?new Date(e.date).toDateString():"N/A"),c.a.createElement("td",null,e.topic),c.a.createElement("td",null,e.description)):null}))))),c.a.createElement("div",{className:Xe.a.video},we&&c.a.createElement(c.a.Fragment,null,!yt&&c.a.createElement("input",{type:"file",id:"uploader",name:"uploader",onChange:function(e){var t=e.target.files[0];t&&x(t)},disabled:yt}),c.a.createElement("span",null,j>0&&j<100&&"".concat(Math.round(j),"%")),j>0&&j<100&&c.a.createElement(f.a,{size:"small",color:"secondary",variant:"contained",onClick:function(){null===b||void 0===b||b.cancel(),gt()}},"Cancel Upload"))),c.a.createElement(Ge.a,{className:Xe.a.input,id:"standard-basic4",label:"Video Id",disabled:!0,value:vt,onChange:function(e){return ht(e.target.value)}}),c.a.createElement(Ge.a,{className:Xe.a.input,id:"filled-basic5",label:"Description",value:lt,disabled:yt,onChange:function(e){return it(e.target.value)}}),c.a.createElement(Ge.a,{className:Xe.a.inputMulti,id:"standard-multiline-static",label:"Upload tutorials to GoogleDrive and paste the link here(*Add each of them in a new line)",multiline:!0,rows:3,variant:"outlined",value:nt.reduce((function(e,t){return""!==e?"".concat(e,"\n").concat(t):"".concat(t)}),""),onChange:function(e){console.log(e.target.value),ct(e.target.value.split("\n"))}}),c.a.createElement(Ge.a,{className:Xe.a.input,id:"filled-basic6",type:"number",label:"Price",value:jt,disabled:yt,onChange:function(e){return Ot(Number(e.target.value))}}),0===j&&c.a.createElement(f.a,{size:"small",variant:"contained",color:"primary",disabled:yt,onClick:function(e){if(s){if(!qe||qe.length<5?(u("Topic should have minimum length of 5"),0):lt&&!(lt.length<5)||(u("Description should have minimum length of 5"),0))if(we)if(y){var t="".concat((new Date).getTime());O(0);var a=function(e,t,a){var n=new q.a,c=ae.ref().child("video/".concat(t,"/").concat(a)).put(e);return c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(n.next({uploadTask:c,progress:t}),e.state){case v.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case v.a.storage.TaskState.RUNNING:break;default:console.log("unhandled")}}),(function(e){}),(function(){c.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e),n.next({uploadTask:c,progress:100,downloadURL:e})}))})),n}(y,s,t).subscribe((function(e){h(e.uploadTask),e.downloadURL&&(ht(e.downloadURL),xt(e.downloadURL),a.unsubscribe()),e.progress<100&&O(e.progress)}))}else u("Upload video not found");else vt?xt(vt):u("Upload video not found")}else u("Error with the logged in teacher")}},R?"Save Changes":"Add New Lesson"))),c.a.createElement("div",null,c.a.createElement(S.a,{component:"nav","aria-label":"main mailbox folders"},F&&c.a.createElement(k.a,{button:!0,onClick:function(){var e=Ee.map((function(e){return e.id}));le("courses",de,{lessons:e}).then((function(){u("Lessons order updated"),G((function(t){var a=Object(Se.a)(t),n=a.findIndex((function(e){return e.id===de}));return a[n].lessons=e,a})),z(!1)}))},className:Xe.a.saveOrder},c.a.createElement(N.a,{primary:"Save order"}),c.a.createElement(Ze.a,null)),!yt&&Ee.map((function(e,t){return c.a.createElement("div",{key:e.date},c.a.createElement(k.a,{button:!0,onClick:function(){U(!0),St(e)}},c.a.createElement("div",{style:{fontSize:"11px",width:"100%"}},e.topic),t>0&&c.a.createElement(He.a,{onClick:function(e){_t(t,!0),e.stopPropagation()}}),t<Ee.length-1&&c.a.createElement(Ke.a,{onClick:function(e){_t(t,!1),e.stopPropagation()}})),c.a.createElement(_.a,null))})))))):c.a.createElement(c.a.Fragment,null)},"Add Lessons",!0],["/profile",function(){Z();var e=Object(n.useContext)(Lt).email,t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)([]),f=Object(i.a)(m,2),b=f[0],v=f[1];Object(n.useEffect)((function(){e&&(se("teachers",e).then((function(e){return e&&d(e)})),ue("lessons",{email:e,"price>":0}).then((function(e){r(e),v(new Array(e.length)),e.forEach((function(e,t){!function(e,t){ue("users",{lessons:[t]}).then((function(t){v((function(a){var n=Object(Se.a)(a);return n[e]=t.length,n}))}))}(t,e.id)}))})))}),[e]);var h=0,E=0;return c.a.createElement(c.a.Fragment,null,s&&c.a.createElement("div",null,c.a.createElement("span",{style:{marginRight:"5px"}},"Profile url:"),c.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"teacher/".concat(s.shortId)},"akshara.lk/teacher/",s.shortId)),c.a.createElement("h2",null,"Subscriptions"),c.a.createElement("table",{className:"center w100"},c.a.createElement("tbody",null,o.map((function(e,t){var a,n=null!==(a=b[t])&&void 0!==a?a:0;return h+=null!==n&&void 0!==n?n:0,E+=n*e.price,c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.topic),c.a.createElement("td",null,e.description),c.a.createElement("td",null,e.price),c.a.createElement("td",null,b[t]),c.a.createElement("td",{className:"right"},b[t]&&b[t]*e.price))})),c.a.createElement("tr",null,c.a.createElement("td",null),c.a.createElement("td",null),c.a.createElement("td",{className:"right"},c.a.createElement("b",null,"Total :")),c.a.createElement("td",null,c.a.createElement("b",null,h)),c.a.createElement("td",{className:"right"},c.a.createElement("b",null,E&&E))))))},"Profile",!0],["/upgradeCourses",function(){Z();var e=Object(n.useContext)(Lt),t=e.showSnackbar,a=e.email,o=Object(n.useState)([]),r=Object(i.a)(o,2),l=r[0],u=r[1],s=Object(n.useState)([]),d=Object(i.a)(s,2),m=d[0],b=d[1],v=Object(n.useState)([]),h=Object(i.a)(v,2),E=h[0],p=h[1],j=Object(n.useState)([]),O=Object(i.a)(j,2),g=O[0],C=O[1];Object(n.useEffect)((function(){ue("teachers",{ownerEmail:a}).then((function(e){if(e.length>0){var t=e[0];ue("courses",{ownerEmail:t.id}).then((function(e){return p(e)})),ue("streams",{ownerEmail:t.id}).then((function(e){return C(e)}))}})),ue("exams",{}).then((function(e){return u(e)})),ue("subjects",{}).then((function(e){return b(e)}))}),[a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Create Courses"),c.a.createElement("form",{className:tt.a.root,noValidate:!0,autoComplete:"off"},g.map((function(e){return $.map((function(a){var n,o=E.findIndex((function(t){return t.subjectId===e.subjectId&&t.examYear===a.id&&t.ownerEmail===e.ownerEmail&&t.examId===e.examId})),r=ye(l,e.examId),i="".concat(null===r||void 0===r?void 0:r.name,"-\n                ").concat(null===(n=ye(m,e.subjectId))||void 0===n?void 0:n.name,"-").concat(a.name,"-").concat(null===r||void 0===r?void 0:r.type);return o>=0?c.a.createElement("div",{key:i},i):c.a.createElement("div",{key:i},i,c.a.createElement(f.a,{onClick:function(){return function(e,a){var n={id:"",lessons:[],examId:e.examId,examYear:a,subjectId:e.subjectId,ownerEmail:e.ownerEmail};oe("courses",n).then((function(){p((function(e){return[].concat(Object(Se.a)(e),[n])})),t("New course created: ".concat(n.examYear))}))}(e,a.id)}},"Create"))}))}))))},"Create Courses",!0]],pt=[["/editExam",function(){Z();var e=Object(n.useContext)(Lt).showSnackbar,t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)(-1),b=Object(i.a)(m,2),v=b[0],h=b[1];Object(n.useEffect)((function(){ue("exams",{}).then((function(e){return r(e)})),ue("subjects",{}).then((function(e){return d(e)}))}),[]);var E=function(e){r((function(t){var a=Object(Se.a)(t);return a[v].subjectIds=e,a}))},p=function(e){var t,a=e.target,n=a.id,c=a.checked,r=null!==(t=o[v].subjectIds)&&void 0!==t?t:[],l=r.findIndex((function(e){return e===n}));c?-1===l&&E([n].concat(Object(Se.a)(r))):l>=0&&(r.splice(l,1),E(r))},j=v<0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Edit Exam"),c.a.createElement("form",{className:tt.a.root,noValidate:!0,autoComplete:"off"},c.a.createElement(De.a,{className:tt.a.input},c.a.createElement(Be.a,{id:"demo-simple-select-label"},"Select Exam"),c.a.createElement(Fe.a,{className:tt.a.input,labelId:"label1",id:"id1",value:v>=0?v:"",onChange:function(e){h(e.target.value)}},null===o||void 0===o?void 0:o.map((function(e,t){return c.a.createElement(ze.a,{value:t,key:e.id},"".concat(e.name," ").concat(e.type))})))),c.a.createElement("div",{className:tt.a.twoColumn},-1!==v&&(null===s||void 0===s?void 0:s.map((function(e){var t,a,n;return c.a.createElement(Ve.a,{key:e.id,control:c.a.createElement(ot.a,{id:e.id,checked:null===(t=null!==(a=o[v].subjectIds)&&void 0!==a?a:[])||void 0===t?void 0:t.includes(e.id),onChange:p,name:"checkedB",color:"primary"}),label:null===(n=ye(s,e.id))||void 0===n?void 0:n.name})})))),c.a.createElement(f.a,{variant:"contained",onClick:function(){le("exams",o[v].id,{subjectIds:o[v].subjectIds}).then((function(){return e("Exam is updated")}))},disabled:j},"Save")))},"Edit Exam",!0],["/addExam",function(){Z();var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)([]),u=Object(i.a)(r,2),s=u[0],d=u[1],m=Object(n.useContext)(Lt).showSnackbar,b=function(e){o((function(t){return Object(l.a)({},t,{},e)}))};Object(n.useEffect)((function(){ue("exams",{}).then((function(e){return e&&d(e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Add Exam"),c.a.createElement("form",{className:tt.a.root,noValidate:!0,autoComplete:"off"},c.a.createElement(Ge.a,{className:tt.a.input,id:"subjectName",label:"Exam Name",onChange:function(e){return b({name:e.target.value})}}),c.a.createElement(Ge.a,{className:tt.a.input,id:"subjectName",label:"Type Theory/Revision",onChange:function(e){return b({type:e.target.value})}}),c.a.createElement(f.a,{variant:"contained",onClick:function(){oe("exams",a).then((function(){return m("Exam added")}))}},"Add"),c.a.createElement(ct,{list:s})))},"Add Exam",!0],["/addTeacher",function(){Z();var e=$e(),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useContext)(Lt).showSnackbar,u=Object(n.useState)(),s=Object(i.a)(u,2),d=s[0],m=s[1],b=Object(n.useState)([]),v=Object(i.a)(b,2),h=v[0],E=v[1];Object(n.useEffect)((function(){ue("teachers",{}).then((function(e){return E(e)}))}),[a]);var p=function(e){m((function(t){return Object(l.a)({},t,{},e)}))},j=function(){var e=Object(fe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue("teachers",{});case 2:t=e.sent,d?(d.shortId="".concat(t.length+1),re("teachers",d.ownerEmail,d).then((function(){r("New teacher added"),o()}))):console.log("Teacher not set");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Add Teacher"),c.a.createElement("form",{className:lt.a.root,noValidate:!0,autoComplete:"off"},c.a.createElement(Ge.a,{className:lt.a.input,id:"teacherName",label:"Teacher Name",onChange:function(e){return p({name:e.target.value})}}),c.a.createElement(Ge.a,{className:lt.a.input,id:"email",label:"Email Address",onChange:function(e){return p({ownerEmail:e.target.value})}}),c.a.createElement(Ge.a,{className:lt.a.input,id:"phone",label:"Phone",onChange:function(e){return p({phone:e.target.value})}}),c.a.createElement(Ge.a,{className:lt.a.input,id:"phoneChat",label:"+9477.... Phone Chat",onChange:function(e){return p({phoneChat:e.target.value})}}),c.a.createElement(f.a,{variant:"contained",onClick:j},"Add")),c.a.createElement(ct,{list:h}))},"Add Teacher",!0],["/addSubject",function(){var e;Z();var t=$e(),a=Object(i.a)(t,2),o=a[0],r=a[1],u=Object(n.useContext)(Lt).showSnackbar,s=Object(n.useState)(),d=Object(i.a)(s,2),m=d[0],b=d[1],v=Object(n.useState)([]),h=Object(i.a)(v,2),E=h[0],p=h[1];Object(n.useEffect)((function(){ue("subjects",{}).then((function(e){return p(e)}))}),[o]);var j=(null!==(e=null===m||void 0===m?void 0:m.name.length)&&void 0!==e?e:0)<2;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Add Subject"),c.a.createElement("form",{className:tt.a.root,noValidate:!0,autoComplete:"off"},c.a.createElement(Ge.a,{className:tt.a.input,id:"subjectName",label:"Subject Name",onChange:function(e){return t={name:e.target.value},void b((function(e){return Object(l.a)({},e,{},t)}));var t}}),c.a.createElement(f.a,{variant:"contained",onClick:function(){oe("subjects",m).then((function(){u("Subject added"),r()}))},disabled:j},"Add")),c.a.createElement(ct,{list:E}))},"Add Subject",!0],["/addCourse",function(){Z();var e=Object(n.useContext)(Lt).showSnackbar,t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)([]),b=Object(i.a)(m,2),v=b[0],h=b[1],E=Object(n.useState)([]),p=Object(i.a)(E,2),j=p[0],O=p[1],g=Object(n.useState)(""),C=Object(i.a)(g,2),y=C[0],x=C[1],S=Object(n.useState)(""),_=Object(i.a)(S,2),k=_[0],w=_[1],N=Object(n.useState)(""),I=Object(i.a)(N,2),L=I[0],A=I[1];Object(n.useEffect)((function(){ue("teachers",{}).then((function(e){return r(e)})),ue("subjects",{}).then((function(e){return d(e)})),ue("exams",{}).then((function(e){return h(e)}))}),[]),Object(n.useEffect)((function(){ue("streams",{}).then((function(e){return O(e)}))}),[j]);var T=!L||!k||!y;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Add Stream for Teacher"),c.a.createElement("form",{className:tt.a.root,noValidate:!0,autoComplete:"off"},c.a.createElement(De.a,{className:tt.a.input},c.a.createElement(Be.a,{id:"select-teacher"},"Select Teacher"),c.a.createElement(Fe.a,{className:tt.a.input,labelId:"label1",id:"id1",value:y,onChange:function(e){x(e.target.value)}},o.map((function(e){return c.a.createElement(ze.a,{value:e.ownerEmail,key:e.ownerEmail},"".concat(e.name))})))),c.a.createElement(De.a,{className:tt.a.input},c.a.createElement(Be.a,{id:"select-subject"},"Select Subject"),c.a.createElement(Fe.a,{className:tt.a.input,labelId:"label1",id:"id1",value:k,onChange:function(e){return w(e.target.value)}},s.map((function(e){return c.a.createElement(ze.a,{value:e.id,key:e.id},"".concat(e.name))})))),c.a.createElement(De.a,{className:tt.a.input},c.a.createElement(Be.a,{id:"select-exam"},"Select Exam"),c.a.createElement(Fe.a,{className:tt.a.input,labelId:"label1",id:"id1",value:L,onChange:function(e){return A(e.target.value)}},v.map((function(e){return c.a.createElement(ze.a,{value:e.id,key:e.id},"".concat(e.name,"-").concat(e.type))})))),c.a.createElement(f.a,{variant:"contained",onClick:function(){j.findIndex((function(e){return e.examId===L&&e.subjectId===k&&e.ownerEmail===y}))>=0?e("Course already added for teacher"):oe("streams",{examId:L,subjectId:k,ownerEmail:y}).then((function(){O([]),e("Course added for teacher")}))},disabled:T},"Add")),c.a.createElement(ct,{list:j.map((function(e){var t,a,n=ye(v,e.examId);return{teacher:null===(t=ye(o,e.ownerEmail))||void 0===t?void 0:t.name,exam:null===n||void 0===n?void 0:n.name,type:null===n||void 0===n?void 0:n.type,subject:null===(a=ye(s,e.subjectId))||void 0===a?void 0:a.name}}))}))},"Subject Streams",!0],["/payments",function(){return console.log("Not implemented ",0),c.a.createElement("h2",null,"Payments ")},"Payments",!0]],jt=function(){var e=Object(n.useContext)(Lt),t=e.isTeacher,a=e.isAdmin;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ue,null),c.a.createElement("div",{className:U.a.container},c.a.createElement("div",null,c.a.createElement(P.c,null,t&&Et.map((function(e){return c.a.createElement(P.a,{exact:!0,key:e[0],path:e[0],component:e[1]})})),a()&&pt.map((function(e){return c.a.createElement(P.a,{exact:!0,key:e[0],path:e[0],component:e[1]})})),void 0!==t&&ht.map((function(e){return c.a.createElement(P.a,{exact:!0,key:e[0],path:e[0],component:e[1]})})),c.a.createElement(P.a,{path:""},c.a.createElement("div",{className:U.a.loading},c.a.createElement("p",null,"\u0d85\u0d9a\u0dca\u0dc2\u0dbb.lk")))))))},Ot=ht.filter((function(e){return e[3]})).map((function(e){return{url:e[0],label:e[2]}})),gt=Et.filter((function(e){return e[3]})).map((function(e){return{url:e[0],label:e[2]}})),Ct=pt.filter((function(e){return e[3]})).map((function(e){return{url:e[0],label:e[2]}})),yt=Object(y.a)({list:{width:250,textDecoration:"none"},fullList:{width:"auto"}}),xt=function(){var e=yt(),t=c.a.useState(!1),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useContext)(Lt),s=l.isTeacher,d=l.isAdmin,m=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&r(e)}},b=function(e){return c.a.createElement(S.a,null,e.map((function(e,t){return c.a.createElement(u.b,{to:e.url,key:e.label,style:{textDecoration:"none",color:"#5d5d5d"}},c.a.createElement(k.a,{button:!0},c.a.createElement(w.a,null,t%2===0?c.a.createElement(L.a,null):c.a.createElement(T.a,null)),c.a.createElement(N.a,{primary:e.label})))})))};return c.a.createElement("div",null,c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{onClick:m(!0)},c.a.createElement(C.a,{htmlColor:"white"})),c.a.createElement(x.a,{anchor:"left",open:o,onClose:m(!1)},c.a.createElement("div",{className:Object(O.a)(e.list),role:"presentation",onClick:m(!1),onKeyDown:m(!1)},b(Ot),c.a.createElement(_.a,null),s&&b(gt),c.a.createElement(_.a,null),d()&&b(Ct)),c.a.createElement("a",{href:"mailto: contact.akshara.lk@gmail.com",style:{fontSize:"11px",textAlign:"center",margin:"5px"}},"contact.akshara.lk@gmail.com"))))},St=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useContext)(Lt),l=r.setEmail,u=r.setIsTeacher,b=function(e){var t;t=e.user?e.user.email:e.email,l(t),o({name:e.displayName,photo:e.photoURL}),ue("teachers",{ownerEmail:t}).then((function(e){e.length>0?u(!0):u(!1)}))};Object(n.useEffect)((function(){v.a.auth().onAuthStateChanged((function(e){e?b(e):(l(null),u(!1))}))}),[]);var h=function(){var e=new v.a.auth.GoogleAuthProvider;v.a.auth().signInWithPopup(e).then((function(e){b(e)})).catch((function(e){}))};Ne.invokeLogin=h;return c.a.createElement(s.a,{position:"static",color:"secondary"},c.a.createElement(d.a,{className:j.a.container},c.a.createElement(xt,null),c.a.createElement(m.a,{variant:"h6",className:j.a.title},"\u0d85\u0d9a\u0dca\u0dc2\u0dbb.lk"),c.a.createElement(f.a,{color:"inherit",onClick:h},(null===a||void 0===a?void 0:a.name)?c.a.createElement("span",{className:j.a.userName},null===a||void 0===a?void 0:a.name):"Login"),a&&a.photo&&c.a.createElement("img",{alt:null===a||void 0===a?void 0:a.name,src:null===a||void 0===a?void 0:a.photo}),a&&c.a.createElement(f.a,{color:"inherit",onClick:function(){v.a.auth().signOut().then((function(){l(null),o(null)})).catch((function(e){}))}},c.a.createElement(E.a,{style:{fontSize:25}}))))},_t=a(214),kt=function(e){var t=e.text,a=e.state,n=e.handleClose,o=a.vertical,r=a.horizontal,l=a.open;return c.a.createElement("div",null,c.a.createElement(_t.a,{anchorOrigin:{vertical:o,horizontal:r},open:l,onClose:n,message:t,key:o+r}))},wt=a(115),Nt=a.n(wt),It=function(){return c.a.createElement("div",{className:Nt.a.container},"Powered by AMSI @ 2020")},Lt=c.a.createContext({email:null,isTeacher:!1,breadcrumbs:[],setIsTeacher:function(e){},setEmail:function(e){},updateBreadcrumbs:function(e){},showSnackbar:function(e){},isAdmin:function(){return!1}}),At=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),d=s[0],m=s[1],f=Object(n.useState)(null),b=Object(i.a)(f,2),v=b[0],h=b[1],E=Object(n.useState)(void 0),p=Object(i.a)(E,2),j=p[0],O=p[1],g=c.a.useState({open:!1,vertical:"top",horizontal:"center"}),C=Object(i.a)(g,2),y=C[0],x=C[1];return c.a.createElement(u.a,null,c.a.createElement(Lt.Provider,{value:{isTeacher:j,setIsTeacher:O,email:v,breadcrumbs:a,showSnackbar:function(e){m(e),x((function(e){return Object(l.a)({},e,{open:!0})}))},setEmail:h,updateBreadcrumbs:function(e){o(e)},isAdmin:function(){return"rasikadri@gmail.com"===v}}},c.a.createElement(kt,{text:d,state:y,handleClose:function(){x((function(e){return Object(l.a)({},e,{open:!1})}))}}),c.a.createElement(St,null),c.a.createElement(jt,null),void 0!==j&&c.a.createElement(It,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(At,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,t,a){e.exports={root:"AddLesson_root__-G3BE",input:"AddLesson_input__1wXPA",inputMulti:"AddLesson_inputMulti__2vU6C",saveOrder:"AddLesson_saveOrder__3Rq-m",backlog:"AddLesson_backlog__35dpO",oneColumn:"AddLesson_oneColumn__iPlZs",twoColumn:"AddLesson_twoColumn__CgQp0",video:"AddLesson_video__17AGb"}},44:function(e,t,a){e.exports={root:"Category_root__22OQo",selected:"Category_selected__3xs1B",image:"Category_image__3KCc6",content:"Category_content__2Ebov",title1:"Category_title1__3Ak3Z",iconTitle:"Category_iconTitle__1LyBU",actions:"Category_actions__1cC3C"}},57:function(e,t,a){e.exports={root:"AddTeacher_root__149PP",input:"AddTeacher_input__38wgQ"}},62:function(e,t,a){e.exports={root:"Lesson_root__1WCBU",topic:"Lesson_topic__3uYFm",attachments:"Lesson_attachments__I27Si"}},78:function(e,t,a){e.exports={root:"Header_root__3dgmC",menuButton:"Header_menuButton__2RGZ-",title:"Header_title__2UnJC",userName:"Header_userName__2d5Iv"}},79:function(e,t,a){e.exports={root:"Subjects_root__2R7E1",card:"Subjects_card__3BRyr",sub:"Subjects_sub__1uyTC"}},82:function(e,t,a){e.exports={container:"Router_container__12f3j",loading:"Router_loading__3dWKx"}},86:function(e,t,a){e.exports={purchase:"Course_purchase__2gB-5",box:"Course_box__2sofi"}}},[[127,1,2]]]);
//# sourceMappingURL=main.ec09d58b.chunk.js.map